(()=>{var e,t,n,o,s,i,r={95074:e=>{e.exports={reactions_preview_item:'<div class="ReactionsPreviewItem ReactionsPreviewItem--stackOverlay %class%" style="background-image: url(\'%image_url%\');" aria-label="%title%"></div>'}},58255:(e,t,n)=>{"use strict";n.d(t,{default:()=>s});var o=n(111132);function s(e,t){e.classList?e.classList.add(t):(0,o.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}},111132:(e,t,n)=>{"use strict";function o(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}n.d(t,{default:()=>o})},374277:(e,t,n)=>{"use strict";function o(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function s(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=o(e.className,t):e.setAttribute("class",o(e.className&&e.className.baseVal||"",t))}n.d(t,{default:()=>s})},376125:(e,t,n)=>{"use strict";n.d(t,{default:()=>o});const o={root:"BadgesEntrypoint-module__root--irU6C",separatorWrapper:"BadgesEntrypoint-module__separatorWrapper--YS6lL",separator:"BadgesEntrypoint-module__separator--oIIFM"}},429697:(e,t,n)=>{"use strict";n.d(t,{default:()=>f});var o=n(487462),s=n(263366),i=n(894578),r=n(58255),a=n(374277),c=n(667294),u=n(696630),l=n(559391),d=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,a.default)(e,t)}))},p=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var o=t.resolveArguments(e,n),s=o[0],i=o[1];t.removeClasses(s,"exit"),t.addClass(s,i?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var o=t.resolveArguments(e,n),s=o[0],i=o[1]?"appear":"enter";t.addClass(s,i,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var o=t.resolveArguments(e,n),s=o[0],i=o[1]?"appear":"enter";t.removeClasses(s,i),t.addClass(s,i,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,o="string"==typeof n,s=o?""+(o&&n?n+"-":"")+e:n[e];return{baseClassName:s,activeClassName:o?s+"-active":n[e+"Active"],doneClassName:o?s+"-done":n[e+"Done"]}},t}(0,i.default)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var o=this.getClassNames(t)[n+"ClassName"],s=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&s&&(o+=" "+s),"active"===n&&e&&(0,l.forceReflow)(e),o&&(this.appliedClasses[t][n]=o,function(e,t){e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))}(e,o))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],o=n.base,s=n.active,i=n.done;this.appliedClasses[t]={},o&&d(e,o),s&&d(e,s),i&&d(e,i)},n.render=function(){var e=this.props,t=(e.classNames,(0,s.default)(e,["classNames"]));return c.createElement(u.default,(0,o.default)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(c.Component);p.defaultProps={classNames:""},p.propTypes={};const f=p},696630:(e,t,n)=>{"use strict";n.d(t,{default:()=>v});var o=n(263366),s=n(894578),i=n(667294),r=n(973935),a=n(806035),c=n(500220),u=n(559391),l="unmounted",d="exited",p="entering",f="entered",g="exiting",m=function(e){function t(t,n){var o;o=e.call(this,t,n)||this;var s,i=n&&!n.isMounting?t.enter:t.appear;return o.appearStatus=null,t.in?i?(s=d,o.appearStatus=p):s=f:s=t.unmountOnExit||t.mountOnEnter?l:d,o.state={status:s},o.nextCallback=null,o}(0,s.default)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:d}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==p&&n!==f&&(t=p):n!==p&&n!==f||(t=g)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,o=this.props.timeout;return e=t=n=o,null!=o&&"number"!=typeof o&&(e=o.exit,t=o.enter,n=void 0!==o.appear?o.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===p){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this);n&&(0,u.forceReflow)(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===d&&this.setState({status:l})},n.performEnter=function(e){var t=this,n=this.props.enter,o=this.context?this.context.isMounting:e,s=this.props.nodeRef?[o]:[r.findDOMNode(this),o],i=s[0],c=s[1],u=this.getTimeouts(),l=o?u.appear:u.enter;!e&&!n||a.default.disabled?this.safeSetState({status:f},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,c),this.safeSetState({status:p},(function(){t.props.onEntering(i,c),t.onTransitionEnd(l,(function(){t.safeSetState({status:f},(function(){t.props.onEntered(i,c)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),o=this.props.nodeRef?void 0:r.findDOMNode(this);t&&!a.default.disabled?(this.props.onExit(o),this.safeSetState({status:g},(function(){e.props.onExiting(o),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:d},(function(){e.props.onExited(o)}))}))}))):this.safeSetState({status:d},(function(){e.props.onExited(o)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(o){n&&(n=!1,t.nextCallback=null,e(o))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this),o=null==e&&!this.props.addEndListener;if(n&&!o){if(this.props.addEndListener){var s=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=s[0],a=s[1];this.props.addEndListener(i,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,n=t.children,s=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,o.default)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(c.default.Provider,{value:null},"function"==typeof n?n(e,s):i.cloneElement(i.Children.only(n),s))},t}(i.Component);function b(){}m.contextType=c.default,m.propTypes={},m.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:b,onEntering:b,onEntered:b,onExit:b,onExiting:b,onExited:b},m.UNMOUNTED=l,m.EXITED=d,m.ENTERING=p,m.ENTERED=f,m.EXITING=g;const v=m},500220:(e,t,n)=>{"use strict";n.d(t,{default:()=>o});const o=n(667294).createContext(null)},806035:(e,t,n)=>{"use strict";n.d(t,{default:()=>o});const o={disabled:!1}},559391:(e,t,n)=>{"use strict";n.d(t,{forceReflow:()=>o});var o=function(e){return e.scrollTop}},30129:(e,t,n)=>{"use strict";n.d(t,{AdsEvents:()=>p});var o=n(166695),s=n(198448),i=n(70689),r=n(833449),a=n(847441),c=n(30655),u=n(954314);let l=[];const d=(0,s.debounce)((()=>{if(0===l.length)return;const e=l.splice(0,l.length);(0,o.api)("adsint.registerAdEvents",{events:JSON.stringify(e)}).catch((t=>{for(;e.length;)l.unshift(e.pop())}))}),1e3);const p={register:(e,t)=>{(e=>["like","unlike","share","music_pause","music_play","music_track_to_profile","music_playlist_to_profile","music_track_share","music_playlist_share","music_track_share_to_story","music_playlist_share_to_story"].includes(e))(e)&&(e=>!!e)(t)&&(l.push({event_type:e,ad_data:t}),d())},handleShareEvent:(e,t,n)=>{const o=e&&e.dataset&&e.dataset.ad;if(!o||!t)return null;let s="share";0===t.indexOf("audio")&&(window.Wall&&Wall.triggerAdStat(e,"audio_click"),0===t.indexOf("audio_playlist")?s=2==n?"music_playlist_share_to_story":"music_playlist_share":0===t.indexOf("audio")&&(s=2==n?"music_track_share_to_story":"music_track_share")),p.register(s,o)}};(0,r.onDomReady)((()=>{const e="adsEvents",t=(0,c.getAudioPlayer)();if(!t||t.subscribers&&t.subscribers.filter((t=>t.context===e)).length>0)return;const n={[a.AudioPlayerEventType.PLAY]:"music_play",[a.AudioPlayerEventType.PAUSE]:"music_pause",[a.AudioPlayerEventType.MUSIC_AUDIOS_ADD]:"music_track_to_profile",[a.AudioPlayerEventType.MUSIC_PLAYLISTS_ADD]:"music_playlist_to_profile"},o=e=>{if(n[e]){const o=u.AudioUtils.audioTupleToAudioObject(t.getCurrentAudio()),s=o?document.querySelector("._audio_row_"+o.fullId+"."+u.AudioUtils.AUDIO_CURRENT_CLS):null,r=(0,i.domClosest)("post",s);let a=r&&r.dataset&&r.dataset.ad;a||(a=(e=>{if(!e)return null;const t=0===e.indexOf("feed:")?e.replace("feed:","post"):null,n=t&&document.getElementById(t);return n&&n.dataset&&n.dataset.ad})(t._getPlayingContext())),a&&(window.Wall&&Wall.triggerAdStat(r,"audio_click"),p.register(n[e],a))}};t.on(e,a.AudioPlayerEventType.PLAY,(()=>o(a.AudioPlayerEventType.PLAY))),t.on(e,a.AudioPlayerEventType.PAUSE,(()=>o(a.AudioPlayerEventType.PAUSE))),t.on(e,a.AudioPlayerEventType.MUSIC_AUDIOS_ADD,(()=>o(a.AudioPlayerEventType.MUSIC_AUDIOS_ADD))),t.on(e,a.AudioPlayerEventType.MUSIC_PLAYLISTS_ADD,(()=>o(a.AudioPlayerEventType.MUSIC_PLAYLISTS_ADD)))}))},50614:(e,t,n)=>{"use strict";n.d(t,{useIsMounted:()=>s});var o=n(667294);const s=()=>{const e=(0,o.useRef)(!1);return(0,o.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),(0,o.useCallback)((()=>e.current),[])}},571309:(e,t,n)=>{"use strict";n.d(t,{useLottie:()=>r});var o=n(50614),s=n(667294),i=n(541843);function r(e,{play:t,show:n}={}){const{animationUrl:r,animationData:a}=e,c=(0,s.useRef)(!1),u=(0,s.useRef)(null),l=(0,s.useRef)(null),[d,p]=(0,s.useState)(!1),[f,g]=(0,s.useState)(null),[m,b]=(0,s.useState)(!1),[v,h]=(0,s.useState)(!1),R=(0,o.useIsMounted)();(0,s.useEffect)((()=>{const e=l.current;e&&!m&&(void 0!==t&&(t?e.play():e.pause()),void 0!==n&&(n?e.show():e.hide()))}),[m,t,n]),(0,s.useLayoutEffect)((()=>((async()=>{const t=l.current;t?c.current=!1:(b(!0),h(!1));const n=u.current;if((r||a)&&n&&!c.current){c.current=!0,p(!1),g(null);try{const t=await i.LottieManager.loadAnimation({containers:[n],...e});t.addEventListener("enterFrame",(()=>{requestAnimationFrame((()=>{h(!0)}))}),{once:!0}),t.addEventListener("destroy",(()=>{h(!1)}),{once:!0}),b(!1),l.current=t}catch(e){p(!0),g(e)}R()&&t?.destroy()}})(),()=>{l.current?.destroy()})),[r,a]);return{lottieError:d,lottieLoading:m,lottieLoaded:!m&&!d,lottieRendered:v,lottiePlayerRef:l,lottieContainerRef:u,lottieErrorMessage:f}}},38116:(e,t,n)=>{"use strict";n.d(t,{useEventListenerOnRef:()=>s});var o=n(667294);const s=(e,t,n)=>{(0,o.useLayoutEffect)((()=>{const{current:o}=e;if(o)return o.addEventListener(t,n,{passive:!0}),()=>{o.removeEventListener(t,n)}}),[e.current])}},617715:(e,t,n)=>{"use strict";n.d(t,{useOnClickOutside:()=>s});var o=n(667294);const s=(e,t)=>{(0,o.useEffect)((()=>{const n=n=>{!e.current||n.target instanceof Node&&e.current.contains(n.target)||t(n)};return document.addEventListener("mousedown",n,{passive:!0}),document.addEventListener("touchstart",n,{passive:!0}),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])}},559739:(e,t,n)=>{"use strict";n.d(t,{preservePositionBetween:()=>i});var o=n(368076),s=n(659397);function i(e,{scrollByImpl:t=window.scrollBy}={}){let n=e;return{start:(0,s.once)((function(e){e&&(n=e);const i=(0,o.getElementOffset)(n);return(0,s.once)((function(e){if(e&&(n=e),n.isConnected){const e=(0,o.getElementOffset)(n);t(0,e.top-i.top)}}))}))}}},414599:(e,t,n)=>{"use strict";n.d(t,{HIDE_TOOLTIP_TIMEOUT:()=>o,OPENED_REACTED_USERS_DEFAULT_REACTION_ID:()=>l,REACTION_ID_DEFAULT:()=>i,REACTION_ID_MAX:()=>r,REACTION_ID_MIN:()=>a,REACTION_ID_UNSET:()=>c,REACTION_SET_ITEMS_MIN_COUNT:()=>u,SHOW_TOOLTIP_TIMEOUT:()=>s});const o=600,s=140,i=0,r=7,a=0,c=void 0,u=2,l=i},152535:(e,t,n)=>{"use strict";n.d(t,{makePendingRequestState:()=>o});const o=(e={})=>{const t=Object.create(null);return{cancel:e=>{const n=t[e];n?.abort(),delete t[e]},register:(n,o)=>{const s=t[n],i=(e=>void 0!==t[e]?.throttleTimerId)(n);if(s){if(i)return!1;console.warn(`Reactions pending request for key '${n}' wasn't unregistered, but has to be overwritten.\nPending request should be cancelled through .cancel() explicitly before .register()`),s.abort()}let r;t[n]={abort:o},void 0!==e?.throttleMs&&(r=((e,n)=>{const o=t[e];if(!o)return;o.throttleTimerId&&window.clearTimeout(o.throttleTimerId);const s=window.setTimeout((()=>{const n=t[e];n&&(n.throttleTimerId=void 0)}),n);return o.throttleTimerId=s,s})(n,e.throttleMs));return()=>{t[n]?.abort===o&&delete t[n],window.clearTimeout(r)}}}}},877734:(e,t,n)=>{"use strict";n.d(t,{isDebugEnabled:()=>i});var o=n(180937);let s;const i=()=>(void 0!==s||(s=!!o.ls.get("reactions.debug_enabled")),s)},144812:(e,t,n)=>{"use strict";n.d(t,{reactionCountsBrandUnwrap:()=>s,reactionCountsBrandWrap:()=>i});var o=n(982350);const s=e=>(0,o.unwrap)(e),i=e=>(0,o.wrap)(e)},926595:(e,t,n)=>{"use strict";n.d(t,{reactionLogError:()=>i});var o=n(65718);const s="reactions";function i({error:e,reportError:t=!1}){t&&(0,o.logError)(e,{environment:s}),console.error(e)}},654200:(e,t,n)=>{"use strict";n.d(t,{areCountersEqual:()=>k,calcCounters:()=>E,calcCountersSum:()=>w,calcCountersWeightedSum:()=>y,counterForReactionId:()=>_,getDefaultReaction:()=>u,getDefaultReactionTitle:()=>l,getReaction:()=>c,hasReactionsForCounts:()=>C,isReactionIdSet:()=>f,isReactionIdUnset:()=>g,isUnknownObject:()=>a,isValidReactionId:()=>m,parseReactionId:()=>b,parseReactionIdOrUnset:()=>v,parseReactionMenuConfig:()=>R,prepareReactionMenuSet:()=>p,validateReactionSetPayloaditems:()=>h});var o=n(414599),s=n(144812),i=n(659397);const r=Number.isInteger||(e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e),a=e=>null!==e&&"object"==typeof e,c=(e,t)=>e.itemsById[t],u=e=>c(e,o.REACTION_ID_DEFAULT),l=e=>u(e)?.title,d=(e,t)=>0===e.length?"":((e,t,n=!0)=>e.reduce(((e,o)=>{const s=t(o),i=t(e);return i===s?n?e:o:i<s?e:o})))(e,(e=>(t.width-e.width)**2+(t.height-e.height)**2),!1).url,p=(e,t,n)=>{const o=t.map((({asset:e,color_sets:t,id:o,score:s,title:i})=>({animationURL:e.animation_url||void 0,backgroundColor:t?.background,id:o,imageMenuURL:d(e.images,n.imageMenuSize),imagePreviewURL:"imagePreviewSize"in n?d(e.images,n.imagePreviewSize):void 0,imageStoryPanelURL:"imageStoryPanelSize"in n?d(e.images,n.imageStoryPanelSize):void 0,imageStoryPreviewURL:"imageStoryPreviewSize"in n?d(e.images,n.imageStoryPreviewSize):void 0,score:s,title:i,titleColor:t?.foreground}))),s={};return o.forEach((e=>{s[e.id]=e})),{id:e,items:o,itemsById:s}},f=e=>e!==o.REACTION_ID_UNSET,g=e=>e===o.REACTION_ID_UNSET,m=e=>r(e)&&e>=o.REACTION_ID_MIN&&e<=o.REACTION_ID_MAX,b=e=>{const t=parseInt(e,10);return m(t)?{isValid:!0,value:t}:{isValid:!1}},v=e=>{const t=b(e);return t.isValid?t.value:o.REACTION_ID_UNSET},h=(e,t)=>{if(e.length<o.REACTION_SET_ITEMS_MIN_COUNT)return{error:new Error(`Invalid reactions items count in set '${t}': ${e.length}`)}},R=e=>{if(!a(e))return;const t={},{animationShowStaticAfterEnd:n,menuShowDelay:s,openedDefaultReactionId:i,reportJsErrors:r}=e;return"number"!=typeof s&&void 0!==s||(t.menuShowDelay=s),"boolean"==typeof n&&(t.animationShowStaticAfterEnd=n),"boolean"==typeof r&&(t.reportJsErrors=r),"number"==typeof i||null===i?null===i?t.openedDefaultReactionId=void 0:m(i)&&(t.openedDefaultReactionId=i):t.openedDefaultReactionId=o.OPENED_REACTED_USERS_DEFAULT_REACTION_ID,t},E=(e,t)=>{const n=(0,s.reactionCountsBrandWrap)({});return Object.entries((0,s.reactionCountsBrandUnwrap)(e)).forEach((([e,o])=>{const s=e,i=t?.itemsById?.[s]?.score??1;n[s]=i*(o||0)})),n},w=e=>Object.values((0,s.reactionCountsBrandUnwrap)(e)).reduce(((e,t)=>e+(t||0)),0),y=e=>w((0,s.reactionCountsBrandWrap)(e)),C=e=>w(e)>0,_=(e,t)=>e[t]??void 0,k=(e,t)=>e&&t?(0,i.isEqual)(e,t):e===t},982350:(e,t,n)=>{"use strict";n.d(t,{unwrap:()=>o,wrap:()=>s});const o=e=>e,s=e=>e},172613:(e,t,n)=>{"use strict";n.d(t,{isBadgesEnabled:()=>s,isBadgesRenderingEnabled:()=>i,isOneTimeDonutWithoutBadges:()=>r});var o=n(977053);const s=()=>(0,o.partConfigEnabled)("badges"),i=()=>(0,o.partConfigEnabled)("badges_rendering"),r=()=>(0,o.partConfigEnabled)("groups_one_time_donut_without_badges")},592178:(e,t,n)=>{"use strict";var o=n(802130),s=n(380159);window.vk?.pe?.static_manager_dynamic_imports&&window.vk?.stDomain&&(n.p=window.vk.stDomain+"/dist/"),window.Reactions=s.ReactionsEntryGlobal,(0,s.init)();try{window.stManager.done(window.jsc("web/reactions.js"))}catch(e){}requestIdleCallback((()=>{try{(0,o.statlogsValueEvent)("entries_requests",1,"reactions","web")}catch{}}),{timeout:5e3})},115990:(e,t,n)=>{"use strict";n.d(t,{stripPercentVars:()=>o});const o=e=>e.replace(/%[-\w]+%/g,"")},358069:(e,t,n)=>{"use strict";n.d(t,{BadgesEntrypointSkeleton:()=>r});var o=n(785893),s=n(902379),i=n(476176);const r=()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.Separator,{}),(0,o.jsx)(s.Skeleton,{circle:!0,width:36,height:36})]})},476176:(e,t,n)=>{"use strict";n.d(t,{Separator:()=>i});var o=n(785893),s=n(376125);const i=()=>(0,o.jsx)("div",{className:s.default.separatorWrapper,children:(0,o.jsx)("div",{className:s.default.separator})})},295293:(e,t,n)=>{"use strict";n.d(t,{LazyBadgesEntryPoint:()=>c});var o=n(785893),s=n(667294),i=n(661587),r=n(358069);const a=(0,i.asyncComponent)((()=>Promise.all([n.e(2067),n.e(20795),n.e(71610),n.e(89334),n.e(32522),n.e(3876),n.e(31902)]).then(n.bind(n,54737))),(({BadgesEntrypoint:e})=>e)),c=e=>(0,o.jsx)(s.Suspense,{fallback:(0,o.jsx)(r.BadgesEntrypointSkeleton,{}),children:(0,o.jsx)(a,{...e})})},703032:(e,t,n)=>{"use strict";n.d(t,{ATTR_USER_REACTION_ID:()=>o});const o="data-reaction-user-reaction-id"},608082:(e,t,n)=>{"use strict";n.d(t,{getLastOwnReactionChangeTime:()=>_,setDataCurrentId:()=>k,updateReactionButtonContainerForCounts:()=>w,updateReactionButtonCounts:()=>C,updateReactionButtonForCurrentReaction:()=>y});var o=n(541843),s=n(902947),i=(n(368076),n(471828)),r=n(877734),a=n(654200),c=n(70689),u=n(97875),l=n(703032),d=n(188498),p=n(900701),f=n(423842);const g="data-reaction-last-own-change-time",m="PostButtonReactions__icon--animationActive";const b="post_button";o.LottieManager.observer.ignoreGroup(b);const v=e=>{const t=e.__reactionIconAnimation?.player;t&&(t.destroy(),delete e.__reactionIconAnimation)},h=async(e,t,n,s)=>{if(!(e!==n.__reactionIconAnimation?.animationURL)&&e||(v(n),t.innerHTML="",n.classList.remove(m)),!s||!e)return;const i=await o.LottieManager.loadAnimation({group:b,animationUrl:e,containers:[t],loop:!1,autoplay:!0});i.addEventListener("firstFrame",(()=>{n.classList.add(m)})),i.addEventListener("loopComplete",(()=>{(function(){const e=(0,f.getReactionConfig)();return!0===e?.animationShowStaticAfterEnd})()&&(n.classList.remove(m),v(n))})),n.__reactionIconAnimation={player:i,animationURL:e}},R=(e,t)=>{const n=e.querySelector('[data-section-ref="reactions-button-icon"]');if(!n)return;const{currentOption:o,isUserAction:s}=t;if(o.isReactionSet){const e=o.current,t=e?.imageMenuURL;n.style.backgroundImage=`url('${t}')`,n.setAttribute("aria-label",e?.title)}else{const e=o.default;n.style.backgroundImage="",e?.title&&n.setAttribute("aria-label",e?.title)}n.classList.toggle("PostButtonReactions__icon--custom",o.isReactionSet);{const e=o.isReactionSet?o.current.animationURL:void 0,t=(e=>{let t=e.querySelector(".PostButtonReactions__iconAnimation");return t||(t=(0,c.se)('<div class="PostButtonReactions__iconAnimation" data-section-ref="reactions-button-icon-animation"></div>'),e.appendChild(t),t)})(n);h(e,t,n,s)}},E=(e,t,n)=>{e.classList.toggle("PostButtonReactions--icon-active",t),e.classList.toggle("PostButtonReactions--active",t)},w=(e,t)=>{const n=!t||!(0,a.hasReactionsForCounts)(t);e.classList.toggle("PostBottomAction--empty",n)},y=(e,t,n,o)=>{const s=!(0,a.isReactionIdUnset)(t),c=((e,t)=>{let n,o=(0,a.getDefaultReaction)(e);if((0,a.isReactionIdUnset)(t)){if(o)return{isReactionSet:!1,default:o}}else{if(n=e.itemsById[t],n)return{isReactionSet:!0,current:n};console.error(new Error(`Missing reaction meta for ${t} in set '${e.id}'`))}return{_error:!0}})(n,t);"_error"in c||(R(e,{currentOption:c,isUserAction:o}),((e,t)=>{const{currentOption:n}=t,o=n.isReactionSet?n.current.titleColor:void 0,s=n.isReactionSet?n.current.backgroundColor:void 0,i={...o?{"--reaction-button-title-color-light":o.light,"--reaction-button-title-color-dark":o.dark}:{"--reaction-button-title-color-light":null,"--reaction-button-title-color-dark":null},...s?{"--reaction-button-background-color-light":s.light,"--reaction-button-background-color-dark":s.dark}:{"--reaction-button-background-color-light":null,"--reaction-button-background-color-dark":null}};Object.entries(i).forEach((([t,n])=>{e.style.setProperty(t,n)}))})(e,{currentOption:c}),((e,t)=>{const{currentOption:n}=t;let o="";o=n.isReactionSet?(0,i.langReplace)(i.getLang("reactions_button_unset_reaction_title")||"",{reaction_name:n.current.title||""}):(0,i.langReplace)(i.getLang("reactions_button_set_reaction_with_name")||"",{reaction_name:n.default.title||""})||i.getLang("reactions_button_title")||"",e.setAttribute("aria-label",o||"")})(e,{currentOption:c}),(0,d.isCounterEnabledForBtn)(e)||((e,t)=>{const n=e.querySelector('[data-section-ref="reactions-button-title"]');if(!n)return;const{currentOption:o}=t,s=o.isReactionSet?o.current.title:o.default.title;s?n.innerText=s:(0,r.isDebugEnabled)()&&console.log("reactions: setReactionNameTitle: missing title",o)})(e,{currentOption:c})),E(e,s),o&&function(e,t){e.setAttribute(g,String(t))}(e,Date.now())},C=(e,t,n,o,s)=>{const c=(0,d.getCounterForTitle)(e,t,o,s);if((0,d.isCounterEnabled)(c)&&(((e,t)=>{const n=e.querySelector('[data-section-ref="reactions-button-title"]');if(!n)return;const{counterForTitle:o}=t;if((0,d.isCounterAvailable)(o)){const e=o.buttonText;(0,u.animateCount)(n,e,{allowZero:o.allowZeroAnimation,str:!0,noWrapWidth:!0,noSpaceIfEmpty:!0})}else(0,r.isDebugEnabled)()&&console.log("reactions: setReactionTitle: missing title",o)})(e,{counterForTitle:c}),o)){((e,t)=>{const n=(0,p.getClosestLikeBtnContainerElem)(e)?.querySelector('[data-section-ref="reactions-button-screen-reader-counter"]');if(!n)return;const o=(0,i.langNumeric)(t,i.getLang("reactions_n_reacted","raw")||"%s",!0);n.innerText=o})(e,(0,a.calcCountersSum)(o))}},_=e=>{const t=e.getAttribute(g);if(t&&(0,s.isNumeric)(t))try{return new Date(Number.parseInt(t)).getTime()||void 0}catch(e){return void console.error(e)}};const k=(e,t)=>{e.setAttribute(l.ATTR_USER_REACTION_ID,(0,a.isReactionIdUnset)(t)?"":String(t))}},240524:(e,t,n)=>{"use strict";n.d(t,{ReactionImage:()=>a});var o=n(785893),s=n(667294),i=n(659397),r=n(571309);const a=(0,s.forwardRef)((({animationURL:e,isPlaying:t,image:n,loadAnimationParams:s},a)=>{const{lottieRendered:c,lottieContainerRef:u}=(0,r.useLottie)({group:"reaction_image",animationUrl:e,...s},{play:t}),l=c&&t;return(0,o.jsx)("div",{className:"ReactionImage",style:{backgroundImage:!l&&n?`url(${n})`:void 0},ref:a,children:(0,o.jsx)("div",{className:(0,i.classNames)("ReactionImage__animationContainer",{"ReactionImage__animationContainer--hidden":!l}),ref:u})})}))},566710:(e,t,n)=>{"use strict";n.d(t,{PreloadImages:()=>i});var o=n(27553),s=n(667294);const i=(0,s.memo)((function({imageURLs:e}){return(0,s.useEffect)((()=>{Promise.all(e.map((e=>(0,o.preloadImage)(e)))).catch((()=>{}))}),[e]),null}))},493168:(e,t,n)=>{"use strict";n.d(t,{ReactedUsersStack:()=>a,stackConfigForVisibleCount:()=>c,userPhotoStub:()=>r});var o=n(785893),s=n(659397),i=n(636322);const r={kind:"stub"};function a({photos:e,size:t,totalCount:n,visibleCount:r}){const a=n??e.length;let c=Math.min(e.length,r);a===c+1&&e.length>=c+1&&(c+=1);let u=Math.max(0,a-c),l=u>0;const d=e.slice(0,c),p=(0,i.formatCount)(u);return(0,o.jsx)("div",{className:(0,s.classNames)("ReactedUsersStack",`ReactedUsersStack--size-${t}`,{"ReactedUsersStack--others":l}),children:(0,o.jsxs)("div",{className:"ReactedUsersStack__photos",role:"presentation",children:[d.map(((e,t)=>function(e){return"profile"===e.kind}(e)?(0,o.jsx)("div",{className:"ReactedUsersStack__photo",role:"img",style:{backgroundImage:`url(${e.imageURL})`},title:e.title},t):function(e){return"stub"===e.kind}(e)?(0,o.jsx)("div",{role:"img",className:"ReactedUsersStack__photo ReactedUsersStack__photo--stub"},t):null)),l&&(0,o.jsx)("div",{className:"ReactedUsersStack__photo ReactedUsersStack__photo--others","aria-hidden":"true",dangerouslySetInnerHTML:{__html:`+${p}`}})]})})}function c(e){const t=e+1;return{maxStackItems:t,visibleCount:e,stubItemsForPhotos:e=>Math.min(e,t)}}},777660:(e,t,n)=>{"use strict";n.d(t,{Reaction:()=>u});var o=n(785893),s=n(93367),i=n(659397),r=n(44476),a=n(92842),c=n(240524);const u=({animationURL:e,image:t,isOpenedDefault:n,onMouseEnter:u,onReactionClick:l,reactionId:d,reactionTitle:p})=>{const f=(0,a.useReactedUsersConfig)(d),g=()=>{l?.(d)};return(0,o.jsxs)("div",{className:(0,i.classNames)("Reaction",{"Reaction--openedDefault":n&&f.shouldShowReactedUsers}),onClick:e=>{g(),e.stopPropagation()},onKeyDown:e=>{[s.KEY.RETURN,s.KEY.SPACE].includes(e.keyCode)&&(g(),e.stopPropagation())},onMouseEnter:u,tabIndex:0,role:"button","aria-label":p||void 0,children:[(0,o.jsx)("div",{className:"Reaction__hoverArea"}),(0,o.jsx)("div",{className:"Reaction__title",children:(0,o.jsx)(r.ReactionTitle,{reactedUsersConfigResult:f,reactionId:d,title:p})}),(0,o.jsx)("div",{className:"Reaction__image",children:(0,o.jsx)(c.ReactionImage,{isPlaying:!0,image:t,animationURL:e})})]})}},815483:(e,t,n)=>{"use strict";n.d(t,{ReactionMenuTitleVariants:()=>i,TITLE_VARIANT_DEFAULT:()=>s,TitleVariantWithLikedUsers:()=>o});const o="WithLikedUsers",s=o,i=[o,"TitleOnly"]},44476:(e,t,n)=>{"use strict";n.d(t,{ReactionTitle:()=>a});var o=n(785893),s=n(667294),i=n(659397),r=n(448782);const a=({reactedUsersConfigResult:e,reactionId:t,title:n})=>{const a=(0,s.useRef)(null),{reactedUsersConfig:c,shouldShowReactedUsers:u}=e;return(0,o.jsxs)("div",{className:(0,i.classNames)("ReactionTitle",{"ReactionTitle--withUsers":u}),ref:a,children:[(0,o.jsx)("div",{className:"ReactionTitle__name",children:n}),(0,o.jsx)("div",{className:(0,i.classNames)({"ReactionTitle__reactedUsers--visible":u}),children:(0,o.jsx)(r.ReactionsMenuReactedUsersPreview,{parentClickContainerRef:a,reactedUsersConfig:c,reactionId:t})})]})}},913211:(e,t,n)=>{"use strict";n.d(t,{ReactionsMenu:()=>f});var o=n(785893),s=n(667294),i=n(659397),r=n(93367),a=n(777660),c=n(433729),u=n(147092),l=n(107857),d=n(172613),p=n(295293);const f=(0,s.forwardRef)((function({close:e,currentReactionId:t,onReactionChoose:n,position:f=c.PopperVerticalPosition.TOP,reactionsOptions:g,onMouseEnter:m,onMouseLeave:b,badgesProps:v},h){const R=(0,u.useReactionMenuConfig)(),E=f===c.PopperVerticalPosition.TOP?R?.openedDefaultReactionId:void 0,[w,y]=(0,s.useState)(E),C=(0,s.useCallback)((t=>{t.keyCode===r.KEY.ESC&&e?.()}),[]),_=(0,s.useCallback)((()=>{y(void 0)}),[]);return(0,o.jsx)("div",{className:(0,i.classNames)("ReactionsMenu ReactionsMenu--extraHoverArea",{"ReactionsMenu--extraHoverAreaToTop":f===c.PopperVerticalPosition.TOP,"ReactionsMenu--extraHoverAreaToBottom":f===c.PopperVerticalPosition.BOTTOM}),onKeyDown:C,onMouseEnter:m,onMouseLeave:b,ref:h,children:(0,o.jsxs)("div",{className:"ReactionsMenu__inner",children:[g.items.map((e=>(0,o.jsx)(a.Reaction,{animationURL:e.animationURL,image:e.imageMenuURL,isOpenedDefault:e.id===w,isSelected:e.id===t,onMouseEnter:_,onReactionClick:n,reactionId:e.id,reactionTitle:e.title},e.id))),(0,d.isBadgesEnabled)()&&(0,l.verifyPayloadForBadges)(v)&&(0,o.jsx)(p.LazyBadgesEntryPoint,{onClick:e,badgesProps:v})]})})}))},936351:(e,t,n)=>{"use strict";n.d(t,{ReactionsMenuContextProvider:()=>c,useReactionsMenuContext:()=>a});var o=n(785893),s=n(667294),i=n(979e3);const r=(0,s.createContext)({currentReactionId:void 0,likeObjectId:void 0,reactedUsers:i.REMOTE_RESOURCE_STATE_CONTEXT_STUB,reactedUsersCounts:void 0,titleVariant:void 0,triggerClose:()=>{}}),a=()=>(0,s.useContext)(r),c=({value:e,children:t})=>{const n=(0,i.useRemoteResource)();return(0,o.jsx)(r.Provider,{value:{...e,reactedUsers:n},children:t})}},448782:(e,t,n)=>{"use strict";n.d(t,{ReactionsMenuReactedUsersPreview:()=>d});var o=n(785893),s=n(667294),i=n(748175),r=n(493168),a=n(936351),c=n(38116),u=n(92842);const l="s";function d({parentClickContainerRef:e,reactionId:t,reactedUsersConfig:n}){const{likeObjectId:d,triggerClose:p}=(0,a.useReactionsMenuContext)(),f=(0,s.useCallback)((function(e){if(e.stopPropagation(),!d)throw new Error("ReactionTitle: unable to open reacted modal, missing object id");n?.hasSomeReactions&&(p(),(0,i.showReactedModal)(t,d))}),[]);return(0,c.useEventListenerOnRef)(e,"click",f),(0,o.jsx)("div",{className:"ReactionsMenuReactedUsersPreview",children:n&&n.userPhotos?(0,o.jsx)(r.ReactedUsersStack,{visibleCount:u.visibleCount,totalCount:n.totalPhotosCount,photos:n.userPhotos,size:l}):null})}},882625:(e,t,n)=>{"use strict";n.d(t,{ReactionsMenuStateContainer:()=>i});var o=n(785893),s=n(936351);const i=({children:e,contextValue:t})=>(0,o.jsx)(s.ReactionsMenuContextProvider,{value:t,children:e})},951335:(e,t,n)=>{"use strict";n.d(t,{getUsersForReactionId:()=>s,isTitleVariantWithUsers:()=>i});var o=n(815483);function s(e,t){const n=e.byReactionId?.[t];if(void 0!==n)return n}function i(e){return e===o.TitleVariantWithLikedUsers}},92842:(e,t,n)=>{"use strict";n.d(t,{useReactedUsersConfig:()=>d,visibleCount:()=>l});var o=n(936351),s=n(493168),i=n(402812),r=n(815483),a=n(951335),c=n(654200);const{stubItemsForPhotos:u,visibleCount:l}=(0,s.stackConfigForVisibleCount)(3);function d(e){const{currentReactionId:t,reactedUsers:{valueMaybeStale:n}}=(0,o.useReactionsMenuContext)(),l=function(e){const{titleVariant:t=r.TITLE_VARIANT_DEFAULT,reactedUsers:{valueMaybeStale:n},reactedUsersCounts:s}=(0,o.useReactionsMenuContext)();if(!(0,a.isTitleVariantWithUsers)(t))return;return function(e,t,n){const o=t?(0,a.getUsersForReactionId)(t,e):void 0;if(o)return{kind:"reacted_users",reactedUsersForReaction:o};const s=n?(0,c.counterForReactionId)(n,e):void 0;if(s&&s>0)return{kind:"count_only_stub",counter:s};return}(e,n,s)}(e);let d,f;if(l&&"reacted_users"===l.kind&&l.reactedUsersForReaction.users){let{reactedUsersForReaction:{users:o=[],totalCount:s}}=l;const r=(0,i.withCurrentUser)(o,s,e,t,n?.currentUser);s=r.totalCount,o=r.users,f=s??o.length,d=o.map(p)}else if(l&&function(e){return"count_only_stub"===e.kind}(l)){let o=l.counter;const r=(0,i.withCurrentUser)([],o,e,t,n?.currentUser);o=r.totalCount;const a=r.users;o&&(f=o,d=[...a.map(p),...Array.from({length:u(o)},(()=>s.userPhotoStub))])}else{const o=(0,i.withCurrentUserAddedOnly)(e,t,n?.currentUser);f=o.totalCount,d=o.users.map(p)}f=f??d?.length??0;const g=Boolean(f&&f>0);return g?{shouldShowReactedUsers:!0,reactedUsersConfig:{hasSomeReactions:g,totalPhotosCount:f,userPhotos:d}}:{shouldShowReactedUsers:!1,reactedUsersConfig:void 0}}function p(e){return{kind:"profile",imageURL:e.ownerImageURL,title:e.ownerName}}},402812:(e,t,n)=>{"use strict";n.d(t,{useReactedUsersPreview:()=>d,withCurrentUser:()=>g,withCurrentUserAddedOnly:()=>m});var o=n(654200),s=n(70962),i=n(688731),r=n(951335),a=n(936351),c=n(53768),u=n(667294),l=n(809095);function d({attemptRefetch:e}){const{likeObjectId:t,titleVariant:n,reactedUsers:o}=(0,a.useReactionsMenuContext)(),{counts:l}=(0,c.useReactionsGlobalStateForObject)(t,{payloadIsSuitable:p}),[d,g]=(0,u.useState)(!1);(0,u.useEffect)((()=>{l&&g(!0)}),[l]),(0,u.useEffect)((()=>{if(!t||!(0,r.isTitleVariantWithUsers)(n))return;e&&("initial"===o.resource.kind||"loading"!==o.resource.kind&&d)&&async function(){if(!t)return;d&&g(!1),o.setLoading(!0);const e=(0,s.requestGetReacted)(t);try{const t=function(e){const{reactedMenuStats:t}=e;if(!t)return;let n;const{byReactionId:o}=t;if(o){n={};for(const[e,t]of Object.entries(o))n[e]={totalCount:t.totalCount??void 0,users:t.users?.map((e=>f(e)))??void 0}}const s=t.currentUser?f(t.currentUser):t.currentUser;return{byReactionId:n,currentUser:s}}(await e.promise);if(!t){const e=new Error("useReactedUsersTooltip: failed to transform response");return(0,i.isDebugEnabled)()&&console.error(e),void o.setFailed(e)}o.setLoaded(t)}catch(e){o.setFailed(e)}}()}),[n,t,d,e])}function p(e){return"counts_only"===e.kind||!0===e.isQueueUpdate}function f(e){return{...e,ownerName:e.ownerName?(0,l.stringWithHTMLEntitiesDecode)(e.ownerName):void 0}}function g(e,t,n,s,i){const r=t??0,a=window.vk.id;if((0,o.isReactionIdSet)(s)&&s===n&&i){const t=function(e,t,n,o,s){if(!s)return;const{ownerImageURL:i,ownerName:r}=s;if(!i)return;if(n.find((t=>t.ownerId===e)))return;return{currentUser:{ownerId:e,ownerImageURL:i,ownerName:r},totalCount:o+1}}(a,0,e,r,i);if(t?.currentUser){const n={ownerId:t.currentUser.ownerId,ownerImageURL:t.currentUser.ownerImageURL,ownerName:t.currentUser.ownerName};return{totalCount:t.totalCount,users:[n].concat(e||[])}}}else if((0,o.isReactionIdUnset)(s)||s!==n){const t=function(e,t,n,o){const s=n&&n.filter((t=>t.ownerId!==e)),i=s&&n&&s.length<n.length;if(i)return{totalCount:i?o-1:o,users:s}}(a,0,e,r);if(t)return{totalCount:t.totalCount,users:t.users}}return{totalCount:r,users:e}}function m(e,t,n){return g([],0,e,t,n)}},587106:(e,t,n)=>{"use strict";n.d(t,{useReactionMenuSet:()=>i});var o=n(667294),s=n(423842);const i=e=>(0,o.useMemo)((()=>(0,s.getReactionSet)(e)),[e])},53768:(e,t,n)=>{"use strict";n.d(t,{useReactionsGlobalStateForObject:()=>c,useReactionsGlobalUpdateEventsForObject:()=>u});var o=n(667294),s=n(654200),i=n(214009),r=n(751602),a=n(27553);function c(e,{payloadIsSuitable:t}={}){const[n,i]=(0,o.useState)(void 0),r=(0,a.usePreviousRef)(n);return u(e,(0,o.useCallback)((function(e){t&&!t(e)||e.counts&&!(0,s.areCountersEqual)(e.counts,r.current??void 0)&&i(e.counts)}),[e])),{counts:n}}function u(e,t){!function({onAnyPostCountsAnyUpdate:e}){(0,o.useEffect)((()=>(0,i.registerNonGlobalNonUniqueListener)(i.WallDataEvents.post_reactions_counts_update,e)),[e])}({onAnyPostCountsAnyUpdate:(0,o.useCallback)((function(n){(0,r.likePostObjectId)(n.postFullId)===e&&t(n)}),[e])})}},979e3:(e,t,n)=>{"use strict";n.d(t,{REMOTE_RESOURCE_STATE_CONTEXT_STUB:()=>i,useRemoteResource:()=>c});var o=n(667294);const s={kind:"initial"},i={valueMaybeStale:void 0,value:void 0,reset:()=>{},setFailed:()=>{},setLoaded:()=>{},setLoading:()=>{},resource:s};function r(e){if("value"in e&&void 0!==e.value)return e.value}function a(e){const t=r(e);return void 0!==t?t:"staleValue"in e&&void 0!==e.staleValue?e.staleValue:void 0}function c(){const[e,t]=(0,o.useState)(s);return{valueMaybeStale:a(e),value:r(e),resource:e,setFailed:(0,o.useCallback)(((e,n=!1)=>{t((t=>({kind:"failed",error:e,staleValue:n?a(t):void 0})))}),[]),setLoaded:(0,o.useCallback)((e=>{t({kind:"loaded",value:e})}),[]),setLoading:(0,o.useCallback)(((e=!1)=>{t((t=>({kind:"loading",staleValue:e?a(t):void 0})))}),[]),reset:(0,o.useCallback)((()=>{t((()=>s))}),[])}}},916328:(e,t,n)=>{"use strict";n.d(t,{ReactionsMenuButton:()=>b});var o=n(785893),s=n(667294),i=n(688731),r=n(147092),a=n(388021),c=n(566710),u=n(272546),l=n(913211),d=n(587106),p=n(328480),f=n(900701),g=n(882625),m=n(107857);const b=({objectId:e,onReactionChoose:t,reactionButtonContainerElem:n,reactionHiddenButtonContainerElem:b,reactionIdInitial:v,reactionSetId:h,reactionsCounts:R,styleVariant:E,triggerMouseenterOnInitial:w,titleVariant:y})=>{const{isAllowedReenter:C,tooltipVisibility:_,triggerClose:k}=(0,a.useTooltipVisibility)(),[S,I]=(0,s.useState)(v);(0,s.useEffect)((()=>{const t=[(0,u.addReactionChooseListener)(e,(()=>{k()})),(0,u.addDataUpdateListener)(e,(e=>{I(e.currentReactionId)}))];return()=>{t.forEach((e=>{e()}))}}),[]);const P=(0,d.useReactionMenuSet)(h),T=(0,r.useReactionMenuConfig)(),A=(0,s.useMemo)((()=>P?.items.map((e=>e.imageMenuURL))??[]),[P?.id]);(0,s.useEffect)((()=>{P&&void 0!==S&&!P.items?.find((e=>e.id===S))&&console.warn(`Current reaction ID ${S} is not found in set '${h}'`)}),[P]);if(!P)return console.warn(`ReactionsMenuButton init error, unavailable reaction set: ${h}`),null;const L={close:k,currentReactionId:S,onReactionChoose:e=>{(k(),e!==S)&&t(e)},reactionsOptions:P,badgesProps:(0,m.reactionsElemPayloadForBadges)(n)},O={currentReactionId:S,likeObjectId:e,reactedUsersCounts:R,titleVariant:y,triggerClose:k};return(0,o.jsxs)(g.ReactionsMenuStateContainer,{contextValue:O,children:[(0,o.jsx)(p.ReactionsMenuTooltip,{delayShow:T?.menuShowDelay,getAttachElem:e=>{if(!e)return;const t=(0,f.getClosestLikeBtnContainerElem)(e);return t||(0,i.isDebugEnabled)()&&console.warn("ReactionsMenuButton missing attach target:",e),t},isAllowedReenter:C,popup:l.ReactionsMenu,popupProps:L,reactionButtonContainer:n,reactionHiddenButtonContainer:b,styleVariant:E,triggerMouseenterOnInitial:w,visibility:_}),(0,o.jsx)(c.PreloadImages,{imageURLs:A})]})}},328480:(e,t,n)=>{"use strict";n.d(t,{ReactionsMenuTooltip:()=>g});var o=n(785893),s=n(667294),i=n(414599),r=n(402812),a=n(27553),c=n(917627),u=n(84151),l=n(388021),d=n(176371);const p=["--post-padding-lr"],f=()=>document.createElement("div"),g=({getAttachElem:e,initialIsOpen:t=!1,isAllowedReenter:n,reactionButtonContainer:g,reactionHiddenButtonContainer:m,popup:b,popupProps:v,delayHide:h=i.HIDE_TOOLTIP_TIMEOUT,delayShow:R=i.SHOW_TOOLTIP_TIMEOUT,onOpenStateChange:E,onPopperVisibilityChange:w,styleVariant:y,triggerMouseenterOnInitial:C=!0,visibility:_=l.TooltipVisibility.uncontrolled})=>{const k=void 0!==e,[S,I]=(0,s.useState)(t),P=_!==l.TooltipVisibility.uncontrolled,T=(0,a.usePrevious)(_),A=(0,s.useRef)(null),L=(0,s.useRef)(null),O=(0,s.useRef)(null);(0,r.useReactedUsersPreview)({attemptRefetch:S});const{style:U}=(0,d.useCSSVarsPropagation)({elementWithPropsRef:L,properties:p}),j=(0,s.useMemo)((()=>{if(e)return e(O.current??void 0)}),[e,O.current]),M=(0,s.useCallback)(((e,t)=>{!t&&P||I(e)}),[P]);(0,s.useEffect)((()=>{E?.(S,O.current)}),[S]),(0,s.useEffect)((()=>{S&&n&&(n.current=l.IS_ALLOWED_REENTER_DEFAULT)}),[S]);const x=(0,u.useTooltipTrigger)({afterHide:M,afterShow:M,cancelCloseOnContentHover:n,delayHide:h,delayShow:R,ignoreMouseTriggers:P,popperPopupRef:A,reactionButtonContainer:g,reactionHiddenButtonContainer:m,triggerMouseenterOnInitial:C});return(0,s.useEffect)((()=>{if(P){const e=_===l.TooltipVisibility.opened;return e||x.cancelDelayedOpening(),void I(e)}S&&T===l.TooltipVisibility.opened&&I(!1)}),[_,P]),(0,o.jsx)(c.TransitionPopper,{attachTarget:j,isOpen:S,content:b,contentProps:{...v,...x.contentProps},mode:"side",onPopperVisibilityChange:w,position:"t",popperContentStyle:U,popperPopupRef:A,ref:k?O:L,renderNodeFactory:f,styleVariant:y,children:(0,o.jsx)("div",{className:"ReactionsMenuButtonPopperReference"})})}},917627:(e,t,n)=>{"use strict";n.d(t,{TransitionPopper:()=>d});var o=n(785893),s=n(667294),i=n(659397),r=n(429697),a=n(35921),c=n(433729),u=n(666091);const l={appear:150,enter:150,exit:150},d=(0,s.forwardRef)((function({attachTarget:e,isOpen:t=!1,content:n,contentProps:d,onPopperVisibilityChange:p,popperContentStyle:f,popperPopupRef:g,styleVariant:m,...b},v){const{isVisible:h,onEnter:R,onHidden:E}=(e=>{const[t,n]=(0,s.useState)(!!e);return{isVisible:!!e||t,onEnter:(0,s.useCallback)((()=>{n(!0)}),[]),onHidden:(0,s.useCallback)((()=>{n(!1)}),[])}})(t),w=(0,s.useRef)(null),y=(0,u.useCombinedRefs)(v,w),C=(0,c.usePopperTopAutoPosition)(w.current??void 0,146,h),_=(()=>{const e=(0,s.useRef)(!0);return(0,s.useEffect)((()=>{e.current=!1}),[]),e.current})();(0,s.useEffect)((()=>{_||p?.(h)}),[h]);const k=(0,i.classNames)("ReactionsMenuPopper _ReactionsMenuPopperRoot",{"ReactionsMenuPopper--alignType-post":"post"===m,"ReactionsMenuPopper--popperBottom":C===c.PopperVerticalPosition.BOTTOM,"ReactionsMenuPopper--popperTop":C===c.PopperVerticalPosition.TOP}),S=(0,o.jsx)(n,{...d,position:C}),I=(0,o.jsx)(r.default,{appear:!0,in:t,classNames:"ReactionsMenuPopperTransition",onEnter:R,onExited:E,timeout:l,children:(0,o.jsx)("div",{className:k,ref:g,style:f,children:S})});return(0,o.jsx)(a.Popper,{...b,align:"left",attachTarget:e,content:I,open:h,position:C,ref:y})}))},849367:(e,t,n)=>{"use strict";n.d(t,{ButtonStyleVariant:()=>o});const o={Post:"post",Reply:"reply"}},176371:(e,t,n)=>{"use strict";n.d(t,{useCSSVarsPropagation:()=>s});var o=n(667294);const s=({elementWithPropsRef:e,properties:t})=>(0,o.useMemo)((()=>{const n=e.current;if(!n)return{style:{}};const o=window.getComputedStyle(n),s={};return t.forEach((e=>{const t=o.getPropertyValue(e);t&&(s[e]=t)})),{style:s}}),[e.current,t])},433729:(e,t,n)=>{"use strict";n.d(t,{PopperVerticalPosition:()=>o,usePopperTopAutoPosition:()=>r});var o,s=n(667294),i=n(670128);!function(e){e.BOTTOM="b",e.TOP="t"}(o||(o={}));const r=(e,t,n)=>(0,s.useMemo)((()=>((e,t)=>{if(!e)return"t";const n=(0,i.default)(e),o=window.pageYOffset||document.documentElement.scrollTop;return n.top-o<t?"b":"t"})(e,t)),[e,t,n])},147092:(e,t,n)=>{"use strict";n.d(t,{useReactionMenuConfig:()=>i});var o=n(667294),s=n(423842);const i=()=>(0,o.useMemo)((()=>(0,s.getReactionConfig)()),[])},84151:(e,t,n)=>{"use strict";n.d(t,{useTooltipTrigger:()=>i});var o=n(617715),s=n(667294);const i=({afterHide:e,afterShow:t,cancelCloseOnContentHover:n,delayHide:i=0,delayShow:r=0,ignoreMouseTriggers:a=!1,reactionButtonContainer:c,reactionHiddenButtonContainer:u,popperPopupRef:l,triggerMouseenterOnInitial:d})=>{const p=(0,s.useRef)(null),f=(0,s.useRef)(void 0),g=(0,s.useRef)(void 0),m=(0,s.useCallback)((()=>{window.clearTimeout(f.current??void 0)}),[]),b=(0,s.useCallback)((()=>{m(),t?.(!1)}),[t]),v=(0,s.useCallback)((()=>{m(),t?.(!0)}),[t]);(0,o.useOnClickOutside)(l,b),(0,s.useEffect)((()=>()=>{window.clearTimeout(f.current),window.clearTimeout(g.current)}),[]);const h=(0,s.useCallback)((t=>window.setTimeout((()=>{e?.(!1)}),t??0)),[e]),R=()=>{var e;(window.clearTimeout(g.current??void 0),a)||(f.current=(e=r,window.setTimeout((()=>{v()}),e??0)))},E=e=>{if(window.clearTimeout(f.current??void 0),a)return;e.relatedTarget instanceof HTMLElement&&p?.current?.contains(e.relatedTarget)||(g.current=h(i))};(0,s.useEffect)((()=>{d&&R()}),[]),(0,s.useEffect)((()=>(c?.addEventListener("mouseenter",R,{passive:!0}),c?.addEventListener("mouseleave",E,{passive:!0}),u?.addEventListener("click",R,{passive:!0}),()=>{c?.removeEventListener("mouseenter",R),c?.removeEventListener("mouseleave",E),u?.removeEventListener("click",R)})),[c]);return{cancelDelayedOpening:m,contentProps:{ref:p,onMouseEnter:(0,s.useCallback)((()=>{window.clearTimeout(g.current??void 0),n?.current&&v()}),[a,v]),onMouseLeave:(0,s.useCallback)((e=>{a||c&&e.target instanceof HTMLElement&&c.contains(e.target)||(g.current=h(i))}),[h,i,a,c])}}}},388021:(e,t,n)=>{"use strict";n.d(t,{IS_ALLOWED_REENTER_DEFAULT:()=>i,TooltipVisibility:()=>o,useTooltipVisibility:()=>r});var o,s=n(667294);!function(e){e.closed="closed",e.opened="opened",e.uncontrolled="uncontrolled"}(o||(o={}));const i=!0,r=()=>{const[e,t]=(0,s.useState)("uncontrolled"),n=(0,s.useRef)(i),o=(0,s.useCallback)((o=>{"closed"!==e&&(void 0!==o&&(n.current=o),t("closed"),window.setTimeout((()=>{t("uncontrolled")})))}),[]);return{isAllowedReenter:n,tooltipVisibility:e,setTooltipVisibility:t,triggerClose:o}}},531402:(e,t,n)=>{"use strict";n.d(t,{renderPreviewItems:()=>l});var o=n(659397),s=n(654200),i=n(70689),r=n(95074),a=n.n(r),c=n(849367),u=n(423842);const l=(e,t,n,r,l)=>{const d=((e,t,n=!1)=>{let o=[];for(const t of Object.keys(e)){const n=(0,s.parseReactionId)(t);n.isValid&&e[n.value]>0&&o.push(n.value)}return o=o.sort(((t,n)=>(e[n]||0)-(e[t]||0))).slice(0,t),n&&o.reverse(),o})(t,3),p=e.querySelector(".ReactionsPreview__items"),f=(0,u.getReactionSet)(n),g=0===(0,s.calcCountersSum)(t),m=a().reactions_preview_item;p&&f&&"string"==typeof m?(p.innerHTML=d.map((e=>{const t=f.itemsById[e];if(!t)return"";const n=(0,o.classNames)({"ReactionsPreviewItem--lite ReactionsPreviewItem--stackOverlayLite":l===c.ButtonStyleVariant.Reply,"ReactionsPreviewItem--post ReactionsPreviewItem--stackOverlayPost":l===c.ButtonStyleVariant.Post});return(0,i.rs)(m,{image_url:t.imagePreviewURL,title:t.title,class:n})})).join(""),e.classList.toggle("ReactionsPreview--empty",g),e.classList.toggle("ReactionsPreview--active",void 0!==r)):console.warn("Unable to render reaction previews",{itemsContainer:p,previewItemTemplate:m,reactionSet:f})}},898494:(e,t,n)=>{"use strict";n.d(t,{reactionsButtonMount:()=>m});var o=n(785893),s=n(973935),i=n(748175),r=n(688731),a=n(107857),c=n(815483),u=n(916328),l=n(272546),d=n(849367),p=n(900701),f=n(618418);const g=d.ButtonStyleVariant.Post,m=(e,t={})=>{if("__isMounted"in e)return;const n=(0,p.getLikeBtn)(e),d=(0,p.getHiddenLikeBtn)(e),m=(0,p.getMenuMount)(e);if(!n||!m)return void((0,r.isDebugEnabled)()&&console.error("Init reactions button failed",m,n));const b=(0,a.reactionsElemPayload)(n);if(!b?.objectRaw)return void((0,r.isDebugEnabled)()&&console.error("Init reactions button failed",b));const{counts:v,csrfHash:h,objectRaw:R,reactionSetId:E,styleVariant:w=g,userReactionId:y}=b,C=b.titleVariant??c.TITLE_VARIANT_DEFAULT;null===h&&console.warn("Missing reactions csrf hash"),(0,r.isDebugEnabled)()&&console.log("Init reactions button",R,E);s.render((0,o.jsx)(u.ReactionsMenuButton,{objectId:R,onReactionChoose:e=>{const t=(0,a.reactionsElemPayload)(n);null!==h&&t&&((0,l.emitReactionChoose)(R),(0,i.reactionButtonSetReaction)(e,t.userReactionId,R,h,n))},reactionButtonContainerElem:n,reactionHiddenButtonContainerElem:d,reactionIdInitial:y,reactionSetId:E,reactionsCounts:v,styleVariant:w,titleVariant:C,triggerMouseenterOnInitial:!!t.isMouseenterEvent}),m),(0,f.pushNavDestroy)((function(){m&&(s.unmountComponentAtNode(m),delete e.__isMounted)})),e.__isMounted=!0}},748175:(e,t,n)=>{"use strict";n.d(t,{reactionButtonSetReaction:()=>v,showReactedModal:()=>h});var o=n(30655),s=n(144812),i=n(863218),r=n(750030),a=n(511051),c=n(658539),u=n(70962),l=n(688731),d=n(107857),p=n(27553),f=n(30129),g=n(105940),m=n(98962);const b=(e,{counts:t,isFromWkLayer:n,isPrimaryLikeButtonClick:o,isUserAction:s=!1,objectRaw:i,previewVisibility:r,reactionId:c,suggestSubscribe:u})=>{(0,a.triggerReactionsUpdate)(i,t,{id:c},{isFromWkLayer:n,isPrimaryLikeButtonClick:o,isUserAction:s,previewVisibility:r,suggestSubscribe:u})},v=(e,t,n,o,i,a)=>{if((0,l.isDebugEnabled)()&&console.log(`Change reaction for object ${n}: ${e}`),!(0,p.isValidEnvironment)())return;const v=(0,d.reactionsElemPayload)(i),h=v?.counts,R=((e,t,n)=>{const o={...e};return void 0!==t&&(o[t]=(o[t]||0)+1),void 0!==n&&(o[n]=Math.max(0,(o[n]||0)-1)),o})(v?.counts||(0,s.reactionCountsBrandWrap)({}),e,t),E=a?.isPrimaryLikeButtonClick,w=(0,c.isWkLayerWallPostOpen)(),y=(0,r.previewVisibilityIntentForVariant)(v?.previewVariant),C=(0,g.getTrackCodeFromPost)(i);b(0,{counts:R,isFromWkLayer:w,isPrimaryLikeButtonClick:E,isUserAction:!0,objectRaw:n,previewVisibility:y,reactionId:e}),(0,u.requestPostReactionSet)(e,n,o,{trackCode:C}).promise.then((t=>{const o=(0,u.validateLikesChangeResponse)(t),s=o?.userReaction;o&&void 0!==s&&b(0,{counts:o.counts,isFromWkLayer:w,isPrimaryLikeButtonClick:!1,isUserAction:!1,objectRaw:n,previewVisibility:y,reactionId:s.id,suggestSubscribe:o.suggestSubscribe});let i=n.replace("wall","post"),r=document.getElementById(i);if(r){let t=(0,m.getAdAttribute)(r,"ad");if(t){let n=void 0===e?"unlike":"like";f.AdsEvents.register(n,t)}}}),(e=>{e?.isAborted||b(0,{counts:h,isFromWkLayer:w,isPrimaryLikeButtonClick:!1,isUserAction:!1,objectRaw:n,previewVisibility:y,reactionId:t})}))};function h(e,t){!function(e){(0,o.showWiki)({w:e},!1,void 0,{queue:1})}(`${i.WK_SECTION_PREFIX_REACTIONS}_${e}/${t}`)}},70962:(e,t,n)=>{"use strict";n.d(t,{requestGetReacted:()=>o.requestGetReacted,requestPostReactionSet:()=>s.requestPostReactionSet,validateLikesChangeResponse:()=>s.validateLikesChangeResponse});var o=n(854986),s=n(117130)},854986:(e,t,n)=>{"use strict";n.d(t,{requestGetReacted:()=>i});var o=n(654200),s=n(851782);const i=e=>{const t={act:"reactions_get_reacted",object:e};return{promise:new Promise(((e,n)=>{s.ajax.post("/like.php",t,{onDone:t=>{const s=function(e){let t;if(!(0,o.isUnknownObject)(e))return t;const{reactedMenuStats:n}=e;n&&(t||(t={}),t={...t,reactedMenuStats:n});return t}(t);if(!s){const e=new Error("requestGetReacted: Invalid response");return console.error(e,t),void n(e)}e(s)},onFail:e=>(n({err:e}),!1)})}))}}},809095:(e,t,n)=>{"use strict";n.d(t,{stringWithHTMLEntitiesDecode:()=>i});var o=n(982350),s=n(659397);const i=e=>(0,s.decodeHTMLEntities)((0,o.unwrap)(e));o.unwrap},117130:(e,t,n)=>{"use strict";n.d(t,{requestPostReactionSet:()=>p,validateLikesChangeResponse:()=>f});var o=n(152535),s=n(654200),i=n(851782),r=n(234970),a=n(251087),c=n(863218),u=n(430506),l=n(199777);const d=(0,o.makePendingRequestState)(),p=(e,t,n,o)=>{(o?.abortPendingRequests??!0)&&d.cancel(t);const s={act:"a_set_reaction",object:t,reaction_id:e,hash:n,wall:2,from:window.Likes?._getReference(t),track_code:o?.trackCode,event_subtype:(0,l.getFeedEventSubtype)()},c=new r.AjaxCancellationToken,p=new Promise(((e,t)=>{const n=i.ajax.post("like.php",s,{cancellationToken:c,onDone:n=>{if(n?.unauth_action_box)return u.UnauthActionBox.show(n.unauth_action_box),void t();n?.done_box&&(0,a.showDoneBox)("",{},n.done_box),e(n)},onFail:e=>{const o=(e=>{return"object"==typeof(t=e)&&null!==t&&"readyState"in t&&0===e.readyState;var t})(n);return t({err:e,isAborted:o}),!!o}})})),f=()=>{c.cancel()},g=d.register(t,f);return p.catch((()=>{})).finally((()=>{g&&g()})),{abort:f,promise:p}},f=e=>{if(void 0===e?.reactions_my)return void console.warn("Invalid reaction change response format",e);const t=e?.[c.REACTIONS_COUNTS_RESPONSE_FIELD]??void 0,n=e.reactions_my,o=e.suggest_subscribe;let i;return null===n?i={id:void 0}:(0,s.isValidReactionId)(n)&&(i={id:n}),{counts:t,userReaction:i,suggestSubscribe:o}}},688731:(e,t,n)=>{"use strict";n.d(t,{ENABLED_IN_POST_REPLY:()=>s,isDebugEnabled:()=>o.isDebugEnabled});var o=n(877734);const s=!1},188498:(e,t,n)=>{"use strict";n.d(t,{getCounterForTitle:()=>r,isCounterAvailable:()=>c,isCounterEnabled:()=>a,isCounterEnabledForBtn:()=>i});var o=n(654200),s=n(471828);const i=e=>!!e.getAttribute("data-reaction-button-text-is-counter");function r(e,t,n,r){if(!i(e))return{kind:"disabled"};if(!n)return{kind:"error"};const a=0!==(r?(0,o.calcCountersSum)(r):0);if(!(0,o.hasReactionsForCounts)(n))return{kind:"enabled",allowZeroAnimation:a,buttonText:""};const c=(0,o.calcCounters)(n,t),u=(0,o.calcCountersWeightedSum)(c);return{kind:"enabled",allowZeroAnimation:a,buttonText:(0,s.langNumeric)(u,"%s",!0)}}function a(e){return!!e&&"disabled"!==e.kind}function c(e){return"enabled"===e.kind}},272546:(e,t,n)=>{"use strict";n.d(t,{addDataUpdateListener:()=>a,addReactionChooseListener:()=>u,emitDataUpdate:()=>c,emitReactionChoose:()=>l});var o=n(288824),s=n(195763);const i=(0,o.makeSharedState)("reactions-menu-events",(()=>({emitter:new s.default})),{version:0}),r=()=>i().emitter,a=(e,t)=>{const n=r(),o={[`${e}:data_update`]:t};return n.addListeners(o),()=>{n.removeListeners(o)}},c=(e,t)=>{r().emit(`${e}:data_update`,t)},u=(e,t)=>{const n=r(),o={[`${e}:reaction_choose`]:t};return n.addListeners(o),()=>{n.removeListeners(o)}},l=e=>{r().emit(`${e}:reaction_choose`)}},107857:(e,t,n)=>{"use strict";n.d(t,{getPreviewVariantForLikeBtn:()=>g,reactionsElemPayload:()=>m,reactionsElemPayloadForBadges:()=>b,shouldReactionsPreviewBeVisible:()=>h,updateReactionsButtonForCounts:()=>w,updateReactionsPreview:()=>E,verifyPayloadForBadges:()=>v});var o=n(861532),s=n(654200),i=n(97875),r=n(471828),a=n(423842),c=n(900701),u=n(27553),l=n(750030),d=n(531402),p=n(703032);const f=e=>{const t=e.getAttribute("data-reaction-counts");if(null===t)return{};const n=t?(0,o.parseJSON)(t):void 0;return"object"==typeof n&&null!==n?n:void 0},g=e=>{const t=e.getAttribute("data-reaction-preview-variant");if(t)return(0,l.parsePreviewVariant)(t)},m=e=>{const t=e.getAttribute("data-reaction-target-object"),n=e.getAttribute("data-reaction-hash"),o=e.getAttribute("data-reaction-set-id");if(null===o)return;const i=e.getAttribute(p.ATTR_USER_REACTION_ID),r=i?(0,s.parseReactionIdOrUnset)(i):void 0,a=e.getAttribute("data-reaction-style-variant"),c=a&&(0,u.isValidButtonStyleVariant)(a)?a:void 0,l=e.getAttribute("data-reaction-menu-title-variant"),d=l&&(0,u.isValidButtonTitleVariant)(l)?l:void 0,m=g(e);return{counts:f(e),csrfHash:n,objectRaw:t,reactionSetId:o,styleVariant:c,titleVariant:d,userReactionId:r,previewVariant:m}},b=e=>({objectId:e.getAttribute("data-badges-object-id"),objectOwnerId:e.getAttribute("data-badges-object-owner-id"),objectType:e.getAttribute("data-badges-object-type"),ref:e.getAttribute("data-badges-ref"),showOnboarding:e.getAttribute("data-badges-show-onboarding")}),v=e=>{const{objectId:t,objectOwnerId:n,objectType:o}=e;return t&&n&&o},h=e=>(0,s.hasReactionsForCounts)(e),R=(e,{counts:t,countsPrevious:n,objectRaw:o,reactionId:u,reactionSetId:l,styleVariant:p})=>{const f=(0,a.getReactionSet)(l),g=(0,s.calcCounters)(t,f),m=(0,s.calcCountersWeightedSum)(g),b=(0,s.calcCountersSum)(t),v=n?(0,s.calcCountersSum)(n):0,h=(0,c.getPreviewElem)(o);h&&((0,d.renderPreviewItems)(h,t,l,u,p),((e,t,n,o)=>{const s=(0,r.langNumeric)(n,r.getLang("reactions_n_reacted","raw")||"%s",!0);e.setAttribute("aria-label",s);const a=e.querySelector('[data-section-ref="like-button-count"]')??void 0;if(!a)return;e.tt&&"object"==typeof e.tt&&(e.tt.shown||e.tt.showing||e.tt?.destroy?.());const c=(0,r.langNumeric)(t,"%s",!0);(0,i.animateCount)(a,c,{allowZero:0!==o,str:!0,noWrapWidth:!0,noSpaceIfEmpty:!0})})(h,m,b,v))},E=(e,t)=>{const n=(0,c.getLikeBtnElem)(e),o=t.counts;n&&o?((e,t,n)=>{const o=m(e);o&&o.objectRaw&&R(0,{counts:t,countsPrevious:n,objectRaw:o.objectRaw,reactionId:o.userReactionId,reactionSetId:o.reactionSetId,styleVariant:o.styleVariant})})(n,o,t.countsPrevious):console.warn("Unable to update object reactions",{objectRaw:e,options:t})},w=(e,{counts:t})=>{const n=(0,c.getLikeBtnElem)(e);n&&((e,t)=>{e.setAttribute("data-reaction-counts",JSON.stringify(t))})(n,t)}},380159:(e,t,n)=>{"use strict";n.d(t,{ReactionsEntryGlobal:()=>g,init:()=>p});var o=n(93367),s=n(898494),i=n(979595),r=n(902759),a=n(860677),c=n(423842),u=n(773781),l=n(977053),d=n(900701);const p=()=>{(0,u.postRenderReactionsInit)(),(0,a.initResponseHandlers)()},f=e=>"1"===e.dataset.reactionsMenuDisabled,g={onReactionKeyDown:(e,t)=>{(0,i.isEventFromMenu)(t)||(0,l.partConfigEnabled)("unlike_archived_post")&&f(e)||[o.KEY.RETURN,o.KEY.SPACE].includes(t.keyCode)&&(t.stopPropagation(),(0,i.toggleReactionOnClick)(e))},initReactionByMouseEvent:(e,t)=>{if(t.target!==e)return;const n=(0,d.getButtonContainer)(e);n&&((0,l.partConfigEnabled)("unlike_archived_post")&&f(e)||(0,r.reactionsButtonInit)(n,{isMouseenterEvent:!0}))},onReactionClick:(e,t)=>{(0,o.checkEvent)(t)||(0,i.isEventFromMenu)(t)||((0,i.toggleReactionOnClick)(e),(0,l.partConfigEnabled)("unlike_archived_post")&&f(e)||(0,r.reactionsButtonInit)(e))},reactionsButtonMount:s.reactionsButtonMount,storageAddSets:c.storageAddSets,storageSetConfig:c.storageSetConfig}},979595:(e,t,n)=>{"use strict";n.d(t,{isEventFromMenu:()=>a,toggleReactionOnClick:()=>c});var o=n(414599),s=n(748175),i=n(272546),r=n(107857);const a=e=>e.target instanceof HTMLElement&&e.target.closest?.("._ReactionsMenuPopperRoot"),c=e=>{const t=(0,r.reactionsElemPayload)(e);if(!t?.objectRaw)return void console.warn("Missing reactions object raw",e);const{csrfHash:n,objectRaw:a,userReactionId:c}=t;if((0,i.emitReactionChoose)(a),null===n)return void console.warn("Missing reactions csrf hash",e);const u=void 0===c?o.REACTION_ID_DEFAULT:void 0;(0,s.reactionButtonSetReaction)(u,c,a,n,e,{isPrimaryLikeButtonClick:!0})}},902759:(e,t,n)=>{"use strict";n.d(t,{reactionsButtonInit:()=>o});const o=(...e)=>{const t=window.Reactions;t?t.reactionsButtonMount(...e):window.stManager.add([window.jsc("web/reactions.js"),"reactions.css"]).then((()=>{window.Reactions?o(...e):console.error("Reactions module is unavailable")}))}},69703:(e,t,n)=>{"use strict";n.d(t,{reactionLogError:()=>i});var o=n(926595),s=n(423842);const i=({error:e})=>{const t=(0,s.getReactionConfig)(),n=t?.reportJsErrors??!1;(0,o.reactionLogError)({error:e,reportError:n})}},860677:(e,t,n)=>{"use strict";n.d(t,{initResponseHandlers:()=>c});var o=n(186553),s=n(423842);const i=e=>{const t=e?.reaction_sets;t&&(0,s.storageAddSets)(t)},r=e=>{e&&(0,s.storageSetConfig)(e)};let a=!1;const c=()=>{a||((0,o.replaceExtraHandler)("reactionsConfig",r),(0,o.replaceExtraHandler)("reactions",i),a=!0)}},900701:(e,t,n)=>{"use strict";n.d(t,{getButtonContainer:()=>r,getClosestLikeBtnContainerElem:()=>s,getHiddenLikeBtn:()=>u,getLikeBtn:()=>c,getLikeBtnElem:()=>o,getLikeWrap:()=>i,getMenuMount:()=>a,getPreviewElem:()=>l});const o=e=>document.querySelector(`[data-section-ref="reactions-button"][data-reaction-target-object="${e}"]`)??void 0,s=e=>e.closest('[data-section-ref="reactions-button-container"]')??void 0,i=e=>{const t=o(e);if(t)return t.closest(".like_wrap")??void 0},r=e=>e.closest('[data-section-ref="reactions-button-container"]'),a=e=>e.querySelector('[data-section-ref="reactions-menu-mount"]')??null,c=e=>e.querySelector('[data-section-ref="reactions-button"]')??null,u=e=>e.querySelector('[data-section-ref="reactions-hidden-button"]')??void 0,l=e=>document.querySelector(`[data-section-ref="reactions-preview-items"][data-reaction-target-object="${e}"]`)},423842:(e,t,n)=>{"use strict";n.d(t,{getReactionConfig:()=>g,getReactionSet:()=>p,storageAddSets:()=>d,storageSetConfig:()=>f});var o=n(288824),s=n(659397),i=n(654200),r=n(69703),a=n(863218),c=n(688731);const u=(0,o.makeSharedState)("reactions-storage",(()=>new Map),{version:0}),l=(0,o.makeSharedState)("reactions-config",(()=>({config:void 0})),{version:0}),d=e=>{(0,c.isDebugEnabled)()&&console.log(e),Object.entries(e).forEach((([e,t])=>{const n=(0,i.validateReactionSetPayloaditems)(t,e);if(n)return void(0,r.reactionLogError)({error:n.error});const o=t.map((e=>({...e,title:(0,s.decodeHTMLEntities)(e.title)})));u().set(e,(0,i.prepareReactionMenuSet)(e,o,{imageMenuSize:a.SIZE_96,imagePreviewSize:a.SIZE_32,imageStoryPanelSize:a.SIZE_128,imageStoryPreviewSize:a.SIZE_40}))}))},p=e=>{const t=u().get(e);if(t)return t;{const t=new Error(`Reaction set not found: ${e}`);(0,r.reactionLogError)({error:t})}},f=e=>{(0,c.isDebugEnabled)()&&console.log(e);const t=(0,i.parseReactionMenuConfig)(e);t?l().config=t:console.warn("Reactions: invalid menu config passed",e)},g=()=>{const e=l()?.config;return e}},27553:(e,t,n)=>{"use strict";n.d(t,{isValidButtonStyleVariant:()=>p,isValidButtonTitleVariant:()=>d,isValidEnvironment:()=>r,preloadImage:()=>a,usePrevious:()=>c,usePreviousRef:()=>u});var o=n(667294),s=n(815483),i=n(849367);const r=()=>"function"==typeof window.cur?.viewAsBox?(window.cur.viewAsBox(),!1):!(window.vk.widget&&!window.vk.id)||(window.Widgets?.oauth?.(),!1),a=e=>new Promise(((t,n)=>{const o=new Image;o.src=e,o.onload=()=>t(),o.onerror=()=>n()})),c=e=>{const t=(0,o.useRef)(e);return(0,o.useEffect)((()=>{t.current=e})),t.current},u=e=>{const t=(0,o.useRef)(e);return(0,o.useEffect)((()=>{t.current=e})),t},l=Object.values(i.ButtonStyleVariant),d=e=>s.ReactionMenuTitleVariants.includes(e),p=e=>l.includes(e)},773781:(e,t,n)=>{"use strict";n.d(t,{postRenderReactionsInit:()=>A});var o=n(608082),s=n(659397),i=n(559739),r=n(70689),a=n(115990),c=n(751602),u=n(688731),l=n(107857),d=n(750030),p=n(900701),f=n(894289),g=n(41114),m=n(534691),b=n(658539),v=n(977053),h=n(272546),R=n(771220),E=n(423842),w=n(172613);const y=(e,t,n=window.cur?.wallTpl)=>{const o=n?.[e];if(o)return(0,a.stripPercentVars)((0,r.rs)(o,t));console.warn(`renderTemplate: missing template '${e}'`,n)},C=({isUserAction:e=!1},...t)=>{e?console.error(...t):(0,u.isDebugEnabled)()&&console.warn(...t)},_=e=>(0,w.isBadgesEnabled)()&&e.classList.contains("PostActionStatusBar--withBadges");const k=(e,t,{isActionStatusBarVisible:n,isReactionsPreviewVisible:o,positionTrackingEnd:i})=>{const a=((e,t)=>{const n=(0,p.getLikeWrap)(e);if(!n)return;const o=(0,m.getPostElem)(t,n),s=o?.querySelector('[data-section-ref="post-action-status-bar"]');if(s)return{actionStatusBar:s};const i=(0,b.isWkLayerWallPostOpen)()?window.wkcur?.wallTpl:window.cur?.wallTpl,a=(0,r.se)(y("post_action_status_bar",{class:"PostActionStatusBar--hidden"},i));return a?((0,v.partConfigEnabled)("feed_redesign_post_bottom_2023_enabled")?(0,r.domInsertAfter)(a,n):(0,r.domInsertBefore)(a,n),{actionStatusBar:a}):void 0})(e,t.postFullId);if(!a)return void C({},"Unable to init ActionStatusBar in post",t);const{actionStatusBar:c}=a;if(c.classList.toggle("PostActionStatusBar--hidden",!n),_(c)&&c.classList.toggle("PostActionStatusBar--withReactions",o),n&&!(0,p.getPreviewElem)(e)){const t=(0,r.se)(function(e,t,n={}){const o=(0,b.isWkLayerWallPostOpen)()?window.wkcur?.wallTpl:window.cur?.wallTpl,i=(0,s.classNames)({"ReactionsPreview--empty":!e,"ReactionsPreview--isInActionStatusBar":!!n.isInActionStatusBar});return y("post_reactions_preview",{class:i,object_raw:t},o)}(o,e,{isInActionStatusBar:!0}));if(_(c)){const e=c.querySelector(".PostActionStatusBar__leftInner");e&&e.prepend(t)}else c.prepend(t)}if(i){const t=(0,p.getLikeBtnElem)(e);i?.(t)}},S=e=>{if(!(e=>void 0!==e.counts)(e))return void C(e,"Counts is invalid or missing");const t=(0,c.likePostObjectId)(e.postFullId),n=(0,m.getPostElem)(e.postFullId,(0,p.getLikeWrap)(t));n||C(e,"Missing post element for reactions preview update",{payload:e,likeWrap:(0,p.getLikeWrap)(t)});const o=(0,p.getLikeBtnElem)(t);if(!o)return void C(e,"Unable to find reactions button",{likeObjectId:t});const s=(0,l.reactionsElemPayload)(o),i=s?.counts;I({elemPayload:s,likeBtnElem:o,likeObjectId:t,payload:e}),P({countsPrevious:i,likeBtnElem:o,likeObjectId:t,payload:e,postEl:n})},I=({elemPayload:e,likeBtnElem:t,likeObjectId:n,payload:s})=>{const{counts:i}=s;if(!!s.isQueueUpdate&&(e=>{const t=(0,o.getLastOwnReactionChangeTime)(e);if(!t)return!1;const n=t+1e4;return Date.now()<n})(t))(0,u.isDebugEnabled)()&&console.log("Ignoring reactions update from queue",s);else{if(e){const{counts:n,reactionSetId:r}=e,a=(0,E.getReactionSet)(r);if((0,f.isReactionsFullUpdatePayload)(s)){const e=s.reactionIdState.reactionId;a&&(0,o.updateReactionButtonForCurrentReaction)(t,e,a,s.isUserAction)}a&&((0,o.updateReactionButtonCounts)(t,a,s.isUserAction,i,n),(0,o.updateReactionButtonContainerForCounts)(t,i))}if((0,f.isReactionsFullUpdatePayload)(s)){const n=s.reactionIdState.reactionId;(0,o.setDataCurrentId)(t,n),s.isUserAction&&e?.objectRaw&&(0,h.emitDataUpdate)(e.objectRaw,{currentReactionId:n})}(0,l.updateReactionsButtonForCounts)(n,{counts:i})}},P=({countsPrevious:e,likeBtnElem:t,likeObjectId:n,payload:o,postEl:s})=>{const{counts:r,previewVisibility:a=d.previewVisibilityUseCurrent}=o,c=((e,t)=>{if((0,d.isIntentPreviewInActionStatusBar)(e))return{previewVariant:R.PreviewVariantActionStatusBar};if((0,d.isIntentPreviewHidden)(e))return{previewVariant:R.PreviewVariantHidden};if((0,d.isIntentPreviewUseCurrent)(e)){const e=(0,l.getPreviewVariantForLikeBtn)(t);if(e)return{previewVariant:e}}})(a,t);if(!c)return;const{previewVariant:u}=c,p=(0,d.isVariantInActionStatusBar)(u),f=(0,l.shouldReactionsPreviewBeVisible)(r),g=(0,d.isVariantHidden)(u)||p&&!f;if(p){let e;o.isPrimaryLikeButtonClick&&!o.isFromWkLayer&&(e=(0,i.preservePositionBetween)(t).start());const r=f;(0,w.isBadgesEnabled)()||s?.classList.toggle("post--withActionStatusBar",r),k(n,o,{isActionStatusBarVisible:r,isReactionsPreviewVisible:f,positionTrackingEnd:e})}g||(0,l.updateReactionsPreview)(n,{counts:r,countsPrevious:e})},T=e=>{if(!u.ENABLED_IN_POST_REPLY)return!1;const{counts:t}=e;if(!t)return;const n=(0,c.likeReplyObjectId)(e.replyFullId);(0,l.updateReactionsPreview)(n,{counts:t,countsPrevious:void 0}),(0,l.updateReactionsButtonForCounts)(n,{counts:t})},A=()=>{let e=[(0,g.registerUniqueListener)("wall-post-action-status-bar",g.WallDataEvents.post_reactions_counts_update,S),(0,g.registerUniqueListener)("wall-reply-reactions-counts",g.WallDataEvents.reply_reactions_counts_update,T)];return{onDestroy:()=>{e.forEach((e=>{e()})),e=[]}}}},41114:(e,t,n)=>{"use strict";n.d(t,{WallDataEvents:()=>o.WallDataEvents,registerUniqueListener:()=>o.registerUniqueListener});var o=n(214009)},487462:(e,t,n)=>{"use strict";function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},o.apply(this,arguments)}n.d(t,{default:()=>o})},894578:(e,t,n)=>{"use strict";n.d(t,{default:()=>s});var o=n(589611);function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,o.default)(e,t)}},263366:(e,t,n)=>{"use strict";function o(e,t){if(null==e)return{};var n,o,s={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(s[n]=e[n]);return s}n.d(t,{default:()=>o})},589611:(e,t,n)=>{"use strict";function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}n.d(t,{default:()=>o})}},a={};function c(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return r[e].call(n.exports,n,n.exports,c),n.exports}c.m=r,e=[],c.O=(t,n,o,s)=>{if(!n){var i=1/0;for(l=0;l<e.length;l++){for(var[n,o,s]=e[l],r=!0,a=0;a<n.length;a++)(!1&s||i>=s)&&Object.keys(c.O).every((e=>c.O[e](n[a])))?n.splice(a--,1):(r=!1,s<i&&(i=s));if(r){e.splice(l--,1);var u=o();void 0!==u&&(t=u)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[n,o,s]},c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(e,o){if(1&o&&(e=this(e)),8&o)return e;if("object"==typeof e&&e){if(4&o&&e.__esModule)return e;if(16&o&&"function"==typeof e.then)return e}var s=Object.create(null);c.r(s);var i={};t=t||[null,n({}),n([]),n(n)];for(var r=2&o&&e;"object"==typeof r&&!~t.indexOf(r);r=n(r))Object.getOwnPropertyNames(r).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,c.d(s,i),s},c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.f={},c.e=e=>Promise.all(Object.keys(c.f).reduce(((t,n)=>(c.f[n](e,t),t)),[])),c.u=e=>24817===e?"web/chunks/hls.b496ce21.js":77794===e?"web/chunks/7bdfc282.async.758ca0aa.js":95040===e?"web/chunks/cf5562e5.async.b4aed2d1.js":40530===e?"web/chunks/5ef6139d.async.f064c195.js":69488===e?"web/chunks/a7aba191.async.c36a6a36.js":67498===e?"web/chunks/19b9f4a7.async.9c26c7dc.js":24328===e?"web/chunks/c4004e28.async.ea2a65ee.js":27370===e?"web/chunks/2c9432b5.async.5b90c7cd.js":5157===e?"web/chunks/unauth_action_box.111478de.js":25394===e?"web/chunks/AudioLongtapModal.ab967a4b.js":75980===e?"web/chunks/menu_settings.7bdcde07.js":89334===e?"web/chunks/a228276f.async.a4e26c75.js":40928===e?"web/chunks/fcbd3ef2.async.877aa898.js":9914===e?"web/chunks/52fa6987.async.94be31b8.js":59727===e?"web/chunks/VideoUpload.d33511cc.js":9375===e?"web/chunks/voice_message_player.faac3006.js":28762===e?"web/chunks/speech.3083d7af.js":57468===e?"web/chunks/SilentModeForms.d5a6e099.js":28872===e?"web/chunks/feed-client-nav-skeleton.73bce91a.js":35953===e?"web/chunks/feed-client-nav-async-right-block.f4069a0d.js":32522===e?"web/chunks/c4b5a755.async.22a5924b.js":3876===e?"web/chunks/30046f20.async.0f75e353.js":31902===e?"web/chunks/BadgesEntrypoint.d1c3de76.js":85059===e?"web/chunks/059ba3af.async.1897b369.js":67724===e?"web/chunks/VideoEditorModal.eb979233.js":22854===e?"web/chunks/PublishClipToVideoModal.dae3ac0f.js":30271===e?"web/chunks/VideoUploadModal.b8d73da8.js":31286===e?"web/chunks/VideoExternalUploadModal.2c5830cb.js":969===e?"web/chunks/0dc980e6.async.f010f601.js":92846===e?"web/chunks/ClipUploadModal.8eff9d1c.js":59240===e?"web/chunks/performance-stats.b497cf49.js":378===e?"web/chunks/79f739a7.async.6dfc0f2b.js":72491===e?"web/chunks/story_blocks.dfab0b41.js":18669===e?"web/chunks/BadgesCatalog.d5007f1e.js":83803===e?"web/chunks/BadgesObjectInfo.551a861a.js":27772===e?"web/chunks/badges_status_bar_onboarding_init.46de4d5a.js":60456===e?"web/chunks/BadgesRestrictedModal.c2ca019d.js":64369===e?"web/chunks/BadgesTaskModal.28ac6c68.js":72728===e?"web/chunks/OneTimeDonut.d867441a.js":7308===e?"web/chunks/7308.e4292e75.js":44221===e?"web/chunks/IconBadges.d46a2d40.js":53297===e?"chunks/"+e+".a3bee52c.js":71475===e?"chunks/"+e+".db838172.js":1854===e?"chunks/1854.9b4b0c68.js":18254===e?"chunks/"+e+".0ac520ae.js":92398===e?"chunks/"+e+".18cb85f5.js":"web/chunks/videoplayer-interactive.c61a72cb.js",c.miniCssF=e=>({5157:1,59727:1}[e]?"web/chunks/b1037836.css":25394===e?"web/chunks/6a66a172.css":75980===e?"web/chunks/5bbee2c9.css":57468===e?"web/chunks/122e7a6e.css":31902===e?"web/chunks/e7968e1e.css":67724===e?"web/chunks/3c048aa6.css":22854===e?"web/chunks/70c35bc4.css":{30271:1,31286:1}[e]?"web/chunks/f89919fd.css":92846===e?"web/chunks/83ceb5be.css":72491===e?"web/chunks/6b53e0ac.css":18669===e?"web/chunks/5ee6ee33.css":83803===e?"web/chunks/b1a2a8e3.css":72728===e?"web/chunks/5246b41c.css":void 0),c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o={},c.l=(e,t,n,s)=>{if(o[e])o[e].push(t);else{var i,r;if(void 0!==n)for(var a=document.getElementsByTagName("script"),u=0;u<a.length;u++){var l=a[u];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")=="vk:"+n){i=l;break}}i||(r=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,c.nc&&i.setAttribute("nonce",c.nc),i.setAttribute("data-webpack","vk:"+n),i.src=e),o[e]=[t];var d=(t,n)=>{i.onerror=i.onload=null,clearTimeout(p);var s=o[e];if(delete o[e],i.parentNode&&i.parentNode.removeChild(i),s&&s.forEach((e=>e(n))),t)return t(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),r&&document.head.appendChild(i)}},c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.p="/dist/",s=e=>new Promise(((t,n)=>{var o=c.miniCssF(e),s=c.p+o;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var s=(r=n[o]).getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(s===e||s===t))return r}var i=document.getElementsByTagName("style");for(o=0;o<i.length;o++){var r;if((s=(r=i[o]).getAttribute("data-href"))===e||s===t)return r}})(o,s))return t();((e,t,n,o)=>{var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",s.onerror=s.onload=i=>{if(s.onerror=s.onload=null,"load"===i.type)n();else{var r=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=r,c.request=a,s.parentNode.removeChild(s),o(c)}},s.href=t,document.head.appendChild(s)})(e,s,t,n)})),i={70724:0},c.f.miniCss=(e,t)=>{i[e]?t.push(i[e]):0!==i[e]&&{5157:1,18669:1,22854:1,25394:1,30271:1,31286:1,31902:1,57468:1,59727:1,67724:1,72491:1,72728:1,75980:1,83803:1,92846:1}[e]&&t.push(i[e]=s(e).then((()=>{i[e]=0}),(t=>{throw delete i[e],t})))},(()=>{c.b=document.baseURI||self.location.href;var e={70724:0};c.f.j=(t,n)=>{var o=c.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var s=new Promise(((n,s)=>o=e[t]=[n,s]));n.push(o[2]=s);var i=c.p+c.u(t),r=new Error;c.l(i,(n=>{if(c.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var s=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;r.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",r.name="ChunkLoadError",r.type=s,r.request=i,o[1](r)}}),"chunk-"+t,t)}},c.O.j=t=>0===e[t];var t=(t,n)=>{var o,s,[i,r,a]=n,u=0;if(i.some((t=>0!==e[t]))){for(o in r)c.o(r,o)&&(c.m[o]=r[o]);if(a)var l=a(c)}for(t&&t(n);u<i.length;u++)s=i[u],c.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return c.O(l)},n=self.webpackChunkvkweb=self.webpackChunkvkweb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var u=c.O(void 0,[213,83737,2067,20795,57451,5038,71610,95167,39056,75934,63580,95245],(()=>c(592178)));u=c.O(u)})();