(()=>{"use strict";var e,t,o,s,r,n,a={92070:(e,t,o)=>{o.d(t,{RecommendedGroupsEventLog:()=>r});var s=o(180937);class r{sendLogs(){this.sendLogsTimeout&&clearTimeout(this.sendLogsTimeout),this.sendLogsTimeout=setTimeout(this.sendLogsAccept.bind(this),1e4)}sendLogsAccept(){if(this.sendLogsProcess)return;const e=this.getLogs(!0);e.length&&(this.sendLogsProcess=!0,this.clearLogs(),window.ajax.post(this.location,{act:this.act,logs:e},{onDone:()=>{this.sendLogsProcess=!1},onFail:()=>(this.restoreLogs(e),this.sendLogsProcess=!1,!0)}))}restoreLogs(e){const t=this.getLogs(),o=[...e.map((e=>e.split(this.logsDataDelimiter))),...t];s.multiAccountLs.set(this.localStorageKey,o)}getLogs(e){let t=s.multiAccountLs.get(this.localStorageKey)||[];return e&&(t=t.map((e=>e.join(this.logsDataDelimiter)))),t}addLog(e){const t=this.getLogs(),{blockPosition:o,eventType:r,trackCode:n,groupId:a}=e,c=[r,n,a,o].map((e=>void 0===e?"":e));t.push(c),s.multiAccountLs.set(this.localStorageKey,t),this.sendLogs()}clearLogs(){s.multiAccountLs.remove(this.localStorageKey)}constructor(e,t){this.sendLogsTimeout=null,this.sendLogsProcess=!1,this.localStorageKey="recommended_groups",this.logsDataDelimiter="|",this.location=e,this.act=t}}},278482:(e,t,o)=>{var s=o(802130),r=o(271855);window.vk?.pe?.static_manager_dynamic_imports&&window.vk?.stDomain&&(o.p=window.vk.stDomain+"/dist/"),(0,r.registerInitHandlerForBlock)();try{window.stManager.done(window.jsc("web/recommended_groups_block.js"))}catch(e){}requestIdleCallback((()=>{try{(0,s.statlogsValueEvent)("entries_requests",1,"recommended_groups_block","web")}catch{}}),{timeout:5e3})},769930:(e,t,o)=>{o.d(t,{afterFeedCompleteDestruction:()=>n,isFeedBlockWithType:()=>r});var s=o(70689);function r(e,t){return e instanceof HTMLElement&&(0,s.matchesSelector)(e,`[data-feed-block-type="${t}"]`)}function n(e){window.cur.destroy?.push((function(){e()}))}},413989:(e,t,o)=>{o.d(t,{RecommendedGroups:()=>h});var s=o(790500),r=o(70689),n=o(612291),a=o(851782),c=o(159663),i=o(471828),l=o(488844),d=o(93367),u=o(92070);class h{destroy(){this.galleryInstance?.destroy()}static initForFeedBlock({block:e,gallery:t}){const o=new h(e,t);return o.initGallery(),o}initGallery(){const e=(0,r.domData)(this.gallery,"code"),t={scrollY:!1,onViewItem:e=>{this.gallery?.visible&&this.onViewGroup(e)}};(0,r.domData)(this.gallery,"next")&&(t.onLoadMore=()=>{a.ajax.post("al_groups.php",{act:"a_recomm_groups_gallery",next:(0,r.domData)(this.gallery,"next"),track_code:e},{onDone:(e,t)=>{let o=[];e&&(o=(0,r.domChildren)((0,r.ce)("div",{innerHTML:e}))),(0,n.uiGetGallery)(this.gallery)?.addMore(o,!t),(0,r.domData)(this.gallery,"next",t||null)}})}),this.galleryInstance=new n.UIGallery(this.gallery,t),this.initUserEventHandlers()}initUserEventHandlers(){(0,s.default)(this.block,'[data-section-ref="recommended-groups-page-block-show-more-button"]',"click",(()=>{this.clickOnViewAll()})),(0,s.default)(this.block,'[data-section-ref="recommended-groups-page-block-hide"]',"click",(e=>{const t=e.delegateTarget.getAttribute("data-action-hide-block-hash");t||g(new Error("RecommendedGroups: hide block missing hash")),this.hideBlock(e.delegateTarget,e,t||""),this.destroy()})),(0,s.default)(this.gallery,'[data-gallery-section-ref="ui-gallery-card-photo-link"], [data-gallery-section-ref="ui-gallery-card-title-link"]',"click",(e=>{this.clickOnGroup(e.delegateTarget)})),(0,s.default)(this.gallery,'[data-gallery-section-ref="ui-gallery-card-primary-button"]',"click",(e=>{const t=e.delegateTarget.getAttribute("data-action-subscribe-hash");t||g(new Error("RecommendedGroups: subscribe missing hash")),this.subscribe(e.delegateTarget,e,t||"")})),(0,s.default)(this.gallery,'[data-gallery-section-ref="ui-gallery-card-close"]',"click",(e=>{const t=e.delegateTarget.getAttribute("data-action-decline-hash");t||g(new Error("RecommendedGroups: decline missing hash")),this.closeGroup(e.delegateTarget,e,t||"")}))}subscribe(e,t,o){if(t.preventDefault(),e.classList.contains("button_disabled"))return;const s=e.closest(".wall_card"),{groupId:r,trackCode:n}=s.dataset;if(!r||!n)return;this.eventLog.addLog({eventType:"group_subscribed",groupId:r,trackCode:n});const d={act:"a_subscribe_from_recomm_groups",hash:o,oid:-r,track_code:n};a.ajax.post("al_groups.php",d,{onDone(t){e.classList.add("secondary","button_disabled"),e.innerHTML=t,e.onclick=null},onFail(e){if(e)return(0,c.showFastBox)({title:i.getLang("global_error")},e),!0},showProgress:()=>(0,l.lockButton)(e),hideProgress:()=>(0,l.unlockButton)(e)})}closeGroup(e,t,o){const s=e.closest(".wall_card"),{groupId:u,trackCode:h}=s.dataset;if(u&&h)return this.eventLog.addLog({eventType:"group_hidden",groupId:u,trackCode:h}),a.ajax.post("al_groups.php",{act:"a_hide_recomm_groups_block_group",group_id:u,track_code:h,hash:o},{onDone:()=>{const t=(0,n.uiGetGallery)(this.gallery);if(t){const o=(0,r.gpeByClass)("ui_gallery_item",e);t.removeItem(o)}},onFail:e=>{if(e)return(0,c.showFastBox)(i.getLang("global_error"),e),!0},showProgress:()=>(0,l.lockButton)(e),hideProgress:()=>(0,l.unlockButton)(e)}),(0,d.cancelEvent)(t),!1}hideBlock(e,t,o){(0,r.hide)(this.block),t.preventDefault();const s=(0,r.domData)(this.gallery,"code");this.eventLog.addLog({eventType:"block_hidden",trackCode:s}),a.ajax.post("al_groups.php",{act:"a_hide_recomm_groups_block",hash:o,track_code:s})}onViewGroup(e){if(e.viewed||!(0,r.hasClass)(e,"ui_gallery_item"))return;const{groupId:t,trackCode:o}=e.dataset;t&&o&&(this.eventLog.addLog({trackCode:o,groupId:t,eventType:"group_seen"}),e.viewed=!0)}clickOnGroup(e){const t=e.closest(".wall_card"),{groupId:o,trackCode:s}=t.dataset;o&&s&&this.eventLog.addLog({trackCode:s,groupId:o,eventType:"group_opened"})}clickOnViewAll(){const e=(0,r.domData)(this.gallery,"code");e&&this.eventLog.addLog({trackCode:e,eventType:"block_expanded"})}viewBlock(e,t){this.eventLog.addLog({blockPosition:t,trackCode:e,eventType:"block_seen"})}constructor(e,t){this.block=e,this.gallery=t,this.eventLog=new u.RecommendedGroupsEventLog("al_groups.php","a_group_recommends_logs")}}function g(e){return console.error(e)}},271855:(e,t,o)=>{o.d(t,{registerInitHandlerForBlock:()=>i});var s=o(234173),r=o(769930),n=o(413989),a=o(288207);const c=({payload:{target:e}})=>{if(!e)throw new Error("RecommendedGroupsBlock: Missing target");const t=e,o=e.querySelector(".groups_recomm_gallery");if(!(0,r.isFeedBlockWithType)(t,"recommended_groups")||!o){const e=new Error("RecommendedGroupsBlock: Missing gallery");throw console.error(e,{block:t,gallery:o}),e}const s=n.RecommendedGroups.initForFeedBlock({block:t,gallery:o});(0,r.afterFeedCompleteDestruction)((function(){s.destroy()})),(0,a.blockInstanceSetForFeedRowContent)(t,s)};function i(){(0,s.tq)().setStartupHandler("RecommendedGroupsBlock/init",c)}},790500:(e,t,o)=>{o.d(t,{default:()=>n});const s=new WeakMap;function r(e,t,o,r){var n,a;if(!e&&!s.has(t))return!1;const c=null!==(n=s.get(t))&&void 0!==n?n:new WeakMap;if(s.set(t,c),!e&&!s.has(t))return!1;const i=null!==(a=c.get(o))&&void 0!==a?a:new Set;c.set(o,i);const l=i.has(r);return e?i.add(r):i.delete(r),l&&e}const n=function e(t,o,s,n,a){if("string"==typeof t&&(t=document.querySelectorAll(t)),"function"!=typeof t.addEventListener){const r=Array.prototype.map.call(t,(t=>e(t,o,s,n,a)));return{destroy(){r.forEach((e=>e.destroy()))}}}const c=t,i=Boolean("object"==typeof a?a.capture:a),l=e=>{const t=e.target.closest(o);t&&(e.delegateTarget=t,e.currentTarget.contains(e.delegateTarget)&&n.call(c,e))},d=JSON.stringify({selector:o,type:s,capture:i}),u={destroy(){c.removeEventListener(s,l,a),r(!1,c,n,d)}};return r(!0,c,n,d)||c.addEventListener(s,l,a),u}}},c={};function i(e){var t=c[e];if(void 0!==t)return t.exports;var o=c[e]={exports:{}};return a[e].call(o.exports,o,o.exports,i),o.exports}i.m=a,e=[],i.O=(t,o,s,r)=>{if(!o){var n=1/0;for(d=0;d<e.length;d++){for(var[o,s,r]=e[d],a=!0,c=0;c<o.length;c++)(!1&r||n>=r)&&Object.keys(i.O).every((e=>i.O[e](o[c])))?o.splice(c--,1):(a=!1,r<n&&(n=r));if(a){e.splice(d--,1);var l=s();void 0!==l&&(t=l)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,s,r]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},o=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(e,s){if(1&s&&(e=this(e)),8&s)return e;if("object"==typeof e&&e){if(4&s&&e.__esModule)return e;if(16&s&&"function"==typeof e.then)return e}var r=Object.create(null);i.r(r);var n={};t=t||[null,o({}),o([]),o(o)];for(var a=2&s&&e;"object"==typeof a&&!~t.indexOf(a);a=o(a))Object.getOwnPropertyNames(a).forEach((t=>n[t]=()=>e[t]));return n.default=()=>e,i.d(r,n),r},i.d=(e,t)=>{for(var o in t)i.o(t,o)&&!i.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,o)=>(i.f[o](e,t),t)),[])),i.u=e=>24817===e?"web/chunks/hls.b496ce21.js":77794===e?"web/chunks/7bdfc282.async.758ca0aa.js":95040===e?"web/chunks/cf5562e5.async.b4aed2d1.js":40530===e?"web/chunks/5ef6139d.async.f064c195.js":69488===e?"web/chunks/a7aba191.async.c36a6a36.js":67498===e?"web/chunks/19b9f4a7.async.9c26c7dc.js":24328===e?"web/chunks/c4004e28.async.ea2a65ee.js":27370===e?"web/chunks/2c9432b5.async.5b90c7cd.js":5157===e?"web/chunks/unauth_action_box.111478de.js":25394===e?"web/chunks/AudioLongtapModal.ab967a4b.js":75980===e?"web/chunks/menu_settings.7bdcde07.js":89334===e?"web/chunks/a228276f.async.a4e26c75.js":40928===e?"web/chunks/fcbd3ef2.async.877aa898.js":9914===e?"web/chunks/52fa6987.async.94be31b8.js":59727===e?"web/chunks/VideoUpload.d33511cc.js":9375===e?"web/chunks/voice_message_player.faac3006.js":28762===e?"web/chunks/speech.3083d7af.js":57468===e?"web/chunks/SilentModeForms.d5a6e099.js":28872===e?"web/chunks/feed-client-nav-skeleton.73bce91a.js":35953===e?"web/chunks/feed-client-nav-async-right-block.f4069a0d.js":85059===e?"web/chunks/059ba3af.async.1897b369.js":67724===e?"web/chunks/VideoEditorModal.eb979233.js":22854===e?"web/chunks/PublishClipToVideoModal.dae3ac0f.js":30271===e?"web/chunks/VideoUploadModal.b8d73da8.js":31286===e?"web/chunks/VideoExternalUploadModal.2c5830cb.js":969===e?"web/chunks/0dc980e6.async.f010f601.js":92846===e?"web/chunks/ClipUploadModal.8eff9d1c.js":59240===e?"web/chunks/performance-stats.b497cf49.js":378===e?"web/chunks/79f739a7.async.6dfc0f2b.js":72491===e?"web/chunks/story_blocks.dfab0b41.js":7308===e?"web/chunks/7308.e4292e75.js":1854===e?"chunks/1854.9b4b0c68.js":18254===e?"chunks/"+e+".0ac520ae.js":92398===e?"chunks/"+e+".18cb85f5.js":"web/chunks/videoplayer-interactive.c61a72cb.js",i.miniCssF=e=>({5157:1,59727:1}[e]?"web/chunks/b1037836.css":25394===e?"web/chunks/6a66a172.css":75980===e?"web/chunks/5bbee2c9.css":57468===e?"web/chunks/122e7a6e.css":67724===e?"web/chunks/3c048aa6.css":22854===e?"web/chunks/70c35bc4.css":{30271:1,31286:1}[e]?"web/chunks/f89919fd.css":92846===e?"web/chunks/83ceb5be.css":72491===e?"web/chunks/6b53e0ac.css":void 0),i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s={},i.l=(e,t,o,r)=>{if(s[e])s[e].push(t);else{var n,a;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")=="vk:"+o){n=d;break}}n||(a=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,i.nc&&n.setAttribute("nonce",i.nc),n.setAttribute("data-webpack","vk:"+o),n.src=e),s[e]=[t];var u=(t,o)=>{n.onerror=n.onload=null,clearTimeout(h);var r=s[e];if(delete s[e],n.parentNode&&n.parentNode.removeChild(n),r&&r.forEach((e=>e(o))),t)return t(o)},h=setTimeout(u.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=u.bind(null,n.onerror),n.onload=u.bind(null,n.onload),a&&document.head.appendChild(n)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="/dist/",r=e=>new Promise(((t,o)=>{var s=i.miniCssF(e),r=i.p+s;if(((e,t)=>{for(var o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var r=(a=o[s]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(r===e||r===t))return a}var n=document.getElementsByTagName("style");for(s=0;s<n.length;s++){var a;if((r=(a=n[s]).getAttribute("data-href"))===e||r===t)return a}})(s,r))return t();((e,t,o,s)=>{var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",r.onerror=r.onload=n=>{if(r.onerror=r.onload=null,"load"===n.type)o();else{var a=n&&("load"===n.type?"missing":n.type),c=n&&n.target&&n.target.href||t,i=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");i.code="CSS_CHUNK_LOAD_FAILED",i.type=a,i.request=c,r.parentNode.removeChild(r),s(i)}},r.href=t,document.head.appendChild(r)})(e,r,t,o)})),n={2485:0},i.f.miniCss=(e,t)=>{n[e]?t.push(n[e]):0!==n[e]&&{5157:1,22854:1,25394:1,30271:1,31286:1,57468:1,59727:1,67724:1,72491:1,75980:1,92846:1}[e]&&t.push(n[e]=r(e).then((()=>{n[e]=0}),(t=>{throw delete n[e],t})))},(()=>{i.b=document.baseURI||self.location.href;var e={2485:0};i.f.j=(t,o)=>{var s=i.o(e,t)?e[t]:void 0;if(0!==s)if(s)o.push(s[2]);else{var r=new Promise(((o,r)=>s=e[t]=[o,r]));o.push(s[2]=r);var n=i.p+i.u(t),a=new Error;i.l(n,(o=>{if(i.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var r=o&&("load"===o.type?"missing":o.type),n=o&&o.target&&o.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+n+")",a.name="ChunkLoadError",a.type=r,a.request=n,s[1](a)}}),"chunk-"+t,t)}},i.O.j=t=>0===e[t];var t=(t,o)=>{var s,r,[n,a,c]=o,l=0;if(n.some((t=>0!==e[t]))){for(s in a)i.o(a,s)&&(i.m[s]=a[s]);if(c)var d=c(i)}for(t&&t(o);l<n.length;l++)r=n[l],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(d)},o=self.webpackChunkvkweb=self.webpackChunkvkweb||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var l=i.O(void 0,[213,83737,2067,20795,57451,5038,95167],(()=>i(278482)));l=i.O(l)})();