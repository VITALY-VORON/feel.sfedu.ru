(()=>{"use strict";var e,t,r,s,a,n,o={915443:(e,t,r)=>{function s(e,t){const r=new IntersectionObserver(((e,r)=>{e.some((e=>e.isIntersecting))&&(t(),r.disconnect())}),{threshold:0});return r.observe(e),()=>r.disconnect()}r.d(t,{runOnceInViewport:()=>s})},75136:(e,t,r)=>{r.d(t,{initCarousel:()=>w});var s=r(618418),a=r(920931),n=r(798116),o=r(915443),l=r(790500),c=r(65718),i=r(612291),d=r(977053),u=r(15042),f=r(105940),b=r(199777);function h(e,t,r){return t.contains(e)&&!r.contains(e)}function m(e){e.target===e.currentTarget&&"transform"===e.propertyName&&p()}function p(){window.dispatchEvent(new CustomEvent("scroll"))}function y(e,t){const{slidesCount:r,maxBulletsToDisplay:o,activeBulletIndex:c}=e,y=(0,n.fork)(a.domain,{values:[[a.$carousel,{slidesCount:r,maxBulletsToDisplay:o,activeBulletIndex:c}]],handlers:[[a.updateCarouselBulletsFx,e=>function(e,t){t.querySelector(".PrimaryAttachmentCarousel__bullet--active")?.classList.remove("PrimaryAttachmentCarousel__bullet--active"),t.querySelector(".PrimaryAttachmentCarousel__bulletCircle--big")?.classList.remove("PrimaryAttachmentCarousel__bulletCircle--big");const r=t.querySelectorAll(".PrimaryAttachmentCarousel__bullet")[e.activeBulletIndex];r?.classList.add("PrimaryAttachmentCarousel__bullet--active"),r.querySelector(".PrimaryAttachmentCarousel__bulletCircle")?.classList.add("PrimaryAttachmentCarousel__bulletCircle--big"),e.slidesCount>e.maxBulletsToDisplay&&(t.querySelector(".PrimaryAttachmentCarousel__bulletsInner").style.left=`${e.bulletsContainerOffsetX}px`);t.querySelectorAll(".PrimaryAttachmentCarousel__bulletCircle--small").forEach((e=>e.classList.remove("PrimaryAttachmentCarousel__bulletCircle--small"))),e.smallBulletsIndexes.forEach((e=>{const r=t.querySelectorAll(".PrimaryAttachmentCarousel__bullet")[e];r?.querySelector(".PrimaryAttachmentCarousel__bulletCircle")?.classList.add("PrimaryAttachmentCarousel__bulletCircle--small")}))}(e,t)]]}),w=!u.browser.safari&&(0,d.partConfigEnabled)("feed_primary_attachments_carousel_css_transitions"),v={scrollX:!1,scrollY:!1,onViewItem:(e,t)=>{(0,n.allSettled)(a.updateShownSlideIndex,{scope:y,params:t}),function(e){const t=e.closest(`.${i.UI_GALLERY_CLASSNAME}`);if(!t)return;const r=window.cur.videoInlinePlayer;r&&h(r.el,t,e)&&(r.pause(),r.ads.pause());const s=window.VideoYoutube?.cur?.player,a=s?.getIframe?.();s&&a&&h(a,t,e)&&s.pauseVideo()}(e)},isFullSizeSlide:!w,isModernTransitionsEnabled:w,onSlide:(g="primary",k=(0,f.getTrackCodeFromPost)(t)??void 0,_=(0,f.resolveRef)(window.cur.module,window.cur.section,window.cur.subsection),(e,t)=>{"primary"===g&&"arrow"===t?.eventName&&(0,b.sendCarouselClickEventWeb)(e,k??void 0,_)})};var g,k,_;const C=new i.UIGallery(t,v),j=t.querySelector(`.${i.UI_GALLERY_CONTENT_CLASSNAME}`),S=t.querySelector(`.${i.UI_GALLERY_INNER_CLASSNAME}`);w?S?.addEventListener("transitionend",m):j?.addEventListener("scroll",p),(0,l.default)(t,".PrimaryAttachmentCarousel__bullet","click",(e=>{let t=e.delegateTarget.dataset.bulletIndex;t&&(0,n.allSettled)(a.scrollToSlide,{scope:y,params:{index:parseInt(t,10),carousel:C}})})),(0,s.pushNavDestroy)((()=>{w?S?.removeEventListener("transitionend",m):j?.removeEventListener("scroll",p),C.destroy()}))}function w(e){const{data:t,target:r}=e.payload;if(r)if(0===r.clientWidth||0===r.clientHeight){const e=(0,o.runOnceInViewport)(r,(()=>{y(t,r),e()}))}else y(t,r);else(0,c.logError)(new Error("PrimaryAttachmentCarousel >> no target for UIGallery"))}},920931:(e,t,r)=>{r.d(t,{$carousel:()=>n,domain:()=>a,scrollToSlide:()=>c,updateCarouselBulletsFx:()=>i,updateShownSlideIndex:()=>o});var s=r(798116);const a=(0,s.createDomain)("PrimaryAttachmentCarousel"),n=a.createStore({shownSlideIndex:0,slidesCount:0,activeBulletIndex:0,bulletsContainerOffsetX:0,smallBulletsIndexes:[],maxBulletsToDisplay:5},{sid:"carouselStore"}),o=a.createEvent(),l=a.createEvent(),c=a.createEvent({sid:"scrollToSlide"}),i=a.createEffect({sid:"updateCarouselBulletsFx"}),d=a.createEffect((({carouselState:e,params:t})=>{const r=e.shownSlideIndex,s=t.index;if(s>=0&&s<=e.slidesCount-1){const e=s-r;0!==e&&t.carousel.scrollToDirection(e)}}));n.on(l,((e,t)=>({...e,slidesCount:t}))),n.on(o,((e,t)=>{let r=t,s=0,a=[];if(e.slidesCount>e.maxBulletsToDisplay){const r=e.slidesCount-1;a=[4],s=e.bulletsContainerOffsetX,t>2&&r-t>2?(s=14*(t-2)*-1,a=[t-2,t+2]):r-t<=2?(a=[r-4],s=14*(e.slidesCount-e.maxBulletsToDisplay)*-1):s=0}return{...e,shownSlideIndex:t,activeBulletIndex:r,bulletsContainerOffsetX:s,smallBulletsIndexes:a}})),(0,s.sample)({clock:c,source:n,fn:(e,t)=>({carouselState:e,params:t}),target:d}),(0,s.sample)({clock:n.updates,source:n,target:i})},979233:(e,t,r)=>{var s=r(802130),a=r(234173),n=r(75136),o=r(105940);window.vk?.pe?.static_manager_dynamic_imports&&window.vk?.stDomain&&(r.p=window.vk.stDomain+"/dist/"),window.vk.widget||((0,a.tq)().setInteractiveHandler("MediaGrid/unblurPhoto",(e=>{let{title:t,text:r,photoRawId:s,hash:a}=e.payload.dataAttrs;window.Page.showUnblurBox(t,r,s,a,(()=>{const t=e.payload.target?.closest("[data-restricted-item]");if(t){const e=t.querySelector(".MediaGridItemRestriction");e?.remove();const r=t.querySelector(".MediaGrid__imageElement--blur");r?.classList.remove("MediaGrid__imageElement--blur")}}))})),(0,a.tq)().setInteractiveHandler("WallPost/openGif",(e=>{let{docId:t,docOwnerId:r,accessKey:s,postId:a,postOwnerId:n,hash:o}=e.payload.dataAttrs;window.Page?.showGifBox(parseInt(t),parseInt(r),a,n,o,e.payload.event,{accessKey:s})})),(0,a.tq)().setInteractiveHandler("WallPost/openPhoto",(e=>{let{photoId:t,listId:r,options:s}=e.payload.dataAttrs;try{const a=JSON.parse(s),n=e.payload.target?.closest("[data-blurred-item]");if(n&&(a.preventPhotoShowingInLayer=!0),window.cur&&e.payload.target){const t=(0,o.getTrackCodeFromPost)(e.payload.target);window.cur.wallPostTrackCode=t,window.cur.listId=r}window.showPhoto(t,r,a,e.payload.event)}catch(e){}})),(0,a.tq)().setStartupHandler("PrimaryAttachmentCarousel/init",n.initCarousel));try{window.stManager.done(window.jsc("web/media_grid.js"))}catch(e){}requestIdleCallback((()=>{try{(0,s.statlogsValueEvent)("entries_requests",1,"media_grid","web")}catch{}}),{timeout:5e3})},790500:(e,t,r)=>{r.d(t,{default:()=>n});const s=new WeakMap;function a(e,t,r,a){var n,o;if(!e&&!s.has(t))return!1;const l=null!==(n=s.get(t))&&void 0!==n?n:new WeakMap;if(s.set(t,l),!e&&!s.has(t))return!1;const c=null!==(o=l.get(r))&&void 0!==o?o:new Set;l.set(r,c);const i=c.has(a);return e?c.add(a):c.delete(a),i&&e}const n=function e(t,r,s,n,o){if("string"==typeof t&&(t=document.querySelectorAll(t)),"function"!=typeof t.addEventListener){const a=Array.prototype.map.call(t,(t=>e(t,r,s,n,o)));return{destroy(){a.forEach((e=>e.destroy()))}}}const l=t,c=Boolean("object"==typeof o?o.capture:o),i=e=>{const t=e.target.closest(r);t&&(e.delegateTarget=t,e.currentTarget.contains(e.delegateTarget)&&n.call(l,e))},d=JSON.stringify({selector:r,type:s,capture:c}),u={destroy(){l.removeEventListener(s,i,o),a(!1,l,n,d)}};return a(!0,l,n,d)||l.addEventListener(s,i,o),u}}},l={};function c(e){var t=l[e];if(void 0!==t)return t.exports;var r=l[e]={exports:{}};return o[e].call(r.exports,r,r.exports,c),r.exports}c.m=o,e=[],c.O=(t,r,s,a)=>{if(!r){var n=1/0;for(d=0;d<e.length;d++){for(var[r,s,a]=e[d],o=!0,l=0;l<r.length;l++)(!1&a||n>=a)&&Object.keys(c.O).every((e=>c.O[e](r[l])))?r.splice(l--,1):(o=!1,a<n&&(n=a));if(o){e.splice(d--,1);var i=s();void 0!==i&&(t=i)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[r,s,a]},c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(e,s){if(1&s&&(e=this(e)),8&s)return e;if("object"==typeof e&&e){if(4&s&&e.__esModule)return e;if(16&s&&"function"==typeof e.then)return e}var a=Object.create(null);c.r(a);var n={};t=t||[null,r({}),r([]),r(r)];for(var o=2&s&&e;"object"==typeof o&&!~t.indexOf(o);o=r(o))Object.getOwnPropertyNames(o).forEach((t=>n[t]=()=>e[t]));return n.default=()=>e,c.d(a,n),a},c.d=(e,t)=>{for(var r in t)c.o(t,r)&&!c.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},c.f={},c.e=e=>Promise.all(Object.keys(c.f).reduce(((t,r)=>(c.f[r](e,t),t)),[])),c.u=e=>24817===e?"web/chunks/hls.b496ce21.js":77794===e?"web/chunks/7bdfc282.async.758ca0aa.js":95040===e?"web/chunks/cf5562e5.async.b4aed2d1.js":40530===e?"web/chunks/5ef6139d.async.f064c195.js":69488===e?"web/chunks/a7aba191.async.c36a6a36.js":67498===e?"web/chunks/19b9f4a7.async.9c26c7dc.js":24328===e?"web/chunks/c4004e28.async.ea2a65ee.js":27370===e?"web/chunks/2c9432b5.async.5b90c7cd.js":5157===e?"web/chunks/unauth_action_box.111478de.js":25394===e?"web/chunks/AudioLongtapModal.ab967a4b.js":75980===e?"web/chunks/menu_settings.7bdcde07.js":89334===e?"web/chunks/a228276f.async.a4e26c75.js":40928===e?"web/chunks/fcbd3ef2.async.877aa898.js":9914===e?"web/chunks/52fa6987.async.94be31b8.js":59727===e?"web/chunks/VideoUpload.d33511cc.js":9375===e?"web/chunks/voice_message_player.faac3006.js":28762===e?"web/chunks/speech.3083d7af.js":57468===e?"web/chunks/SilentModeForms.d5a6e099.js":28872===e?"web/chunks/feed-client-nav-skeleton.73bce91a.js":35953===e?"web/chunks/feed-client-nav-async-right-block.f4069a0d.js":85059===e?"web/chunks/059ba3af.async.1897b369.js":67724===e?"web/chunks/VideoEditorModal.eb979233.js":22854===e?"web/chunks/PublishClipToVideoModal.dae3ac0f.js":30271===e?"web/chunks/VideoUploadModal.b8d73da8.js":31286===e?"web/chunks/VideoExternalUploadModal.2c5830cb.js":969===e?"web/chunks/0dc980e6.async.f010f601.js":92846===e?"web/chunks/ClipUploadModal.8eff9d1c.js":59240===e?"web/chunks/performance-stats.b497cf49.js":378===e?"web/chunks/79f739a7.async.6dfc0f2b.js":72491===e?"web/chunks/story_blocks.dfab0b41.js":7308===e?"web/chunks/7308.e4292e75.js":1854===e?"chunks/1854.9b4b0c68.js":18254===e?"chunks/"+e+".0ac520ae.js":92398===e?"chunks/"+e+".18cb85f5.js":"web/chunks/videoplayer-interactive.c61a72cb.js",c.miniCssF=e=>({5157:1,59727:1}[e]?"web/chunks/b1037836.css":25394===e?"web/chunks/6a66a172.css":75980===e?"web/chunks/5bbee2c9.css":57468===e?"web/chunks/122e7a6e.css":67724===e?"web/chunks/3c048aa6.css":22854===e?"web/chunks/70c35bc4.css":{30271:1,31286:1}[e]?"web/chunks/f89919fd.css":92846===e?"web/chunks/83ceb5be.css":72491===e?"web/chunks/6b53e0ac.css":void 0),c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s={},c.l=(e,t,r,a)=>{if(s[e])s[e].push(t);else{var n,o;if(void 0!==r)for(var l=document.getElementsByTagName("script"),i=0;i<l.length;i++){var d=l[i];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")=="vk:"+r){n=d;break}}n||(o=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,c.nc&&n.setAttribute("nonce",c.nc),n.setAttribute("data-webpack","vk:"+r),n.src=e),s[e]=[t];var u=(t,r)=>{n.onerror=n.onload=null,clearTimeout(f);var a=s[e];if(delete s[e],n.parentNode&&n.parentNode.removeChild(n),a&&a.forEach((e=>e(r))),t)return t(r)},f=setTimeout(u.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=u.bind(null,n.onerror),n.onload=u.bind(null,n.onload),o&&document.head.appendChild(n)}},c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.p="/dist/",a=e=>new Promise(((t,r)=>{var s=c.miniCssF(e),a=c.p+s;if(((e,t)=>{for(var r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var a=(o=r[s]).getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(a===e||a===t))return o}var n=document.getElementsByTagName("style");for(s=0;s<n.length;s++){var o;if((a=(o=n[s]).getAttribute("data-href"))===e||a===t)return o}})(s,a))return t();((e,t,r,s)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.onerror=a.onload=n=>{if(a.onerror=a.onload=null,"load"===n.type)r();else{var o=n&&("load"===n.type?"missing":n.type),l=n&&n.target&&n.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+l+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=o,c.request=l,a.parentNode.removeChild(a),s(c)}},a.href=t,document.head.appendChild(a)})(e,a,t,r)})),n={63799:0},c.f.miniCss=(e,t)=>{n[e]?t.push(n[e]):0!==n[e]&&{5157:1,22854:1,25394:1,30271:1,31286:1,57468:1,59727:1,67724:1,72491:1,75980:1,92846:1}[e]&&t.push(n[e]=a(e).then((()=>{n[e]=0}),(t=>{throw delete n[e],t})))},(()=>{c.b=document.baseURI||self.location.href;var e={63799:0};c.f.j=(t,r)=>{var s=c.o(e,t)?e[t]:void 0;if(0!==s)if(s)r.push(s[2]);else{var a=new Promise(((r,a)=>s=e[t]=[r,a]));r.push(s[2]=a);var n=c.p+c.u(t),o=new Error;c.l(n,(r=>{if(c.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var a=r&&("load"===r.type?"missing":r.type),n=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+n+")",o.name="ChunkLoadError",o.type=a,o.request=n,s[1](o)}}),"chunk-"+t,t)}},c.O.j=t=>0===e[t];var t=(t,r)=>{var s,a,[n,o,l]=r,i=0;if(n.some((t=>0!==e[t]))){for(s in o)c.o(o,s)&&(c.m[s]=o[s]);if(l)var d=l(c)}for(t&&t(r);i<n.length;i++)a=n[i],c.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return c.O(d)},r=self.webpackChunkvkweb=self.webpackChunkvkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var i=c.O(void 0,[213,83737,2067,20795,57451,5038,95167],(()=>c(979233)));i=c.O(i)})();